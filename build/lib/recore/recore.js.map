{"version":3,"sources":["webpack:///recore/webpack/universalModuleDefinition","webpack:///recore/webpack/bootstrap 12f9f863ef3607d151e4","webpack:///recore/node_modules/@babel/runtime/helpers/classCallCheck.js","webpack:///recore/node_modules/@babel/runtime/helpers/createClass.js","webpack:///recore/node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///recore/node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///recore/node_modules/@babel/runtime/helpers/inherits.js","webpack:///recore/external \"window.React\"","webpack:///recore/src/obx/observable/obx.ts","webpack:///recore/node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///recore/src/obx/utils.ts","webpack:///recore/src/lib/navigator.ts","webpack:///recore/node_modules/@babel/runtime/helpers/typeof.js","webpack:///recore/src/obx/observable/observable.ts","webpack:///recore/src/utils/index.ts","webpack:///recore/src/obx/observable/obx-property.ts","webpack:///recore/node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack:///recore/src/lib/router/utils.ts","webpack:///recore/src/obx/global-state.ts","webpack:///recore/src/obx/derivation.ts","webpack:///recore/src/obx/observable/proxy.ts","webpack:///recore/src/utils/has-own-property.ts","webpack:///recore/src/obx/index.ts","webpack:///recore/src/utils/is-object.ts","webpack:///recore/src/utils/split-path.ts","webpack:///recore/src/utils/set-prototype-of.ts","webpack:///recore/src/lib/utils.ts","webpack:///recore/src/lib/router/route-context.ts","webpack:///recore/(webpack)/buildin/global.js","webpack:///recore/node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///recore/src/utils/invariant.ts","webpack:///recore/node_modules/@babel/runtime/helpers/get.js","webpack:///recore/src/utils/is-plain-object.ts","webpack:///recore/src/lib/index.ts","webpack:///recore/src/lib/router/link.ts","webpack:///recore/src/core/view-controller.ts","webpack:///recore/node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///recore/node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///recore/src/utils/is-primitive.ts","webpack:///recore/src/obx/decorators.ts","webpack:///recore/src/obx/reaction.ts","webpack:///recore/src/obx/next-tick.ts","webpack:///recore/src/utils/throttle.ts","webpack:///recore/src/obx/observable/obx-set.ts","webpack:///recore/src/utils/loose-equal.ts","webpack:///recore/src/utils/shallow-equal.ts","webpack:///recore/src/lib/compose.ts","webpack:///recore/node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack:///recore/node_modules/@babel/runtime/helpers/iterableToArray.js","webpack:///recore/node_modules/history/esm/history.js","webpack:///recore/src/lib/router/nav-link.ts","webpack:///recore/node_modules/classnames/index.js","webpack:///recore/src/lib/router/route.ts","webpack:///recore/src/lib/router/redirect.ts","webpack:///recore/src/lib/prerendering.ts","webpack:///recore/src/index.ts","webpack:///recore/src/core/index.ts","webpack:///recore/src/core/area.ts","webpack:///recore/node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///recore/src/obx/observable/compare.ts","webpack:///recore/src/obx/observable/obx-instance.ts","webpack:///recore/node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///recore/node_modules/@babel/runtime/helpers/superPropBase.js","webpack:///recore/node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///recore/src/obx/observable/obx-array.ts","webpack:///recore/src/obx/observable/obx-object.ts","webpack:///recore/src/obx/observable/obx-map.ts","webpack:///recore/src/obx/observer.ts","webpack:///recore/src/utils/fail.ts","webpack:///recore/src/utils/loose-index-of.ts","webpack:///recore/node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///recore/node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack:///recore/node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack:///recore/external \"window.ReactDOM\"","webpack:///recore/node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///recore/node_modules/resolve-pathname/esm/resolve-pathname.js","webpack:///recore/node_modules/value-equal/esm/value-equal.js","webpack:///recore/node_modules/tiny-warning/dist/tiny-warning.esm.js","webpack:///recore/node_modules/tiny-invariant/dist/tiny-invariant.esm.js","webpack:///recore/node_modules/@babel/runtime/helpers/toArray.js","webpack:///recore/node_modules/path-to-regexp/index.js","webpack:///recore/src/lib/router/root.ts","webpack:///recore/src/lib/inject.ts","webpack:///recore/src/lib/destory.ts","webpack:///recore/src/lib/router/index.ts","webpack:///recore/src/lib/router/loader.ts","webpack:///recore/src/lib/router/route-wrapper.ts","webpack:///recore/src/lib/router/router.ts","webpack:///recore/src/lib/router/with-router.ts","webpack:///recore/src/lib/i18ns.ts","webpack:///recore/src/lib/mockable.ts","webpack:///recore/src/lib/x.ts","webpack:///recore/src/core/view.ts","webpack:///recore/src/utils/clone-deep.ts"],"names":["_classCallCheck","instance","Constructor","TypeError","module","exports","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_typeof","require","assertThisInitialized","_possibleConstructorReturn","self","call","_inherits","subClass","superClass","create","constructor","value","ObxFlag","Obx","name","obxFlag","DEEP","id","nextId","localVer","observing","observers","Set","dependenciesState","DerivationState","NOT_TRACKING","lowestObserverState","UP_TO_DATE","propagateChanged","clearObserving","force","startBatch","endBatch","path","entry","nestPath","pathArray","splitPath","get","ret","hasObx","obx","getObx","getAsObx","val","REF","defineObxProperty","undefined","reportChange","hasOwnProperty","properties","walk","_","set","SYMBOL_OBX","Symbol","injectObx","obj","addHiddenFinalProp","_defineProperty","globalState","guid","toString","toLocaleLowerCase","fn","keys","addHiddenProp","object","propName","formatNestValue","$has","$get","has","isUnInitializedDecoratorTarget","initializeDecoratorTarget","$set","v","$del","del","$extend","Navigator","options","_history","mode","state","reload","__reload","Date","now","history","push","goBack","invariant","createHashHistory","createMemoryHistory","createBrowserHistory","_typeof2","iterator","addObserver","observable","node","add","removeObserver","size","queueForUnobservation","isPendingUnobservation","pendingUnobservations","inBatch","list","isBeingObserved","onBecomeUnobserved","reportObserved","derivation","trackingDerivation","runId","lastAccessedBy","newObserving","unboundDepsCount","DIRTY","forEach","d","setDerivationDirty","propagateChangeConfirmed","MYBE_DIRTY","propagateMaybeChanged","onBecomeDirty","asObservable","thing","isObject","isExtensible","ObxContructor","getObxContructor","observeIterable","items","n","reportPropValue","propValue","propFlag","x","reportChildValue","ownerFlag","VAL","getVer","asNewValue","ObxProperty","scope","getter","setter","isComputing","isRunningSetter","pending","pendingValue","objectVer","shouldCompute","computeValue","oldValue","is","isPrimitive","ifModified","result","isCaughtException","cause","getProxiedValue","Boolean","prevTracking","untrackedStart","untrackedEnd","computationDepth","runDerivedFunction","isObxProperty","ensureObxProperty","prop","getOwnPropertyDescriptor","property","String","newVal","getObxProperty","objectWithoutPropertiesLoose","_objectWithoutProperties","source","excluded","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","patternCache","cacheLimit","cacheCount","compilePath","pattern","cacheKey","end","strict","sensitive","cache","re","pathToRegexp","compiledPattern","compileGenerator","generator","compiledGenerator","compile","MatchResult","url","isExact","params","matchPath","pathname","parent","exact","slice","resolve","match","exec","values","reduce","memo","index","generatePath","normalizeArray","parts","allowAboveRoot","res","p","pop","normalize","isAbsolute","segments","split","unshift","join","base","replace","locationIs","loc1","loc2","search","shallowEqual","Globals","pendingReactions","isRunningReactions","dynamicObserveDisabled","getGlobalState","CaughtException","e","isModifiedValue","prevUntracked","obs","l","changeDependenciesStateTo0","f","context","Array","bindDependencies","prevObserving","lowestNewObservingDerivationState","i0","dep","diffFlag","untracked","action","prev","setDerivationMybeDirty","resetDerivationState","SYMBOL_PROXY","SYMBOL_RAW","isProxied","getProxy","setProxy","proxy","getRawValue","supportProxy","global","createProxy","taps","Proxy","prototypeHasOwnProperty","resetObx","clearTicks","clearReactions","reset","isArray","ObxArray","WeakSet","ObxSet","Map","ObxMap","isPlainObject","ObxObject","RE_PATH","RE_PATH_REVERSE","reverse","proto","xId","defaultKey","$id","notFound","type","createElement","getComponent","maps","ns","shift","component","children","Registry","temp","internalMaps","process","test","fail","typeOrMaps","Component","register","defaultRegistry","wrapperWith","globalMaps","Fragment","Link","NavLink","Route","Redirect","ModifiersMap","stop","stopPropagation","prevent","preventDefault","enter","keyCode","charCode","ctrl","ctrlKey","alt","altKey","shiftKey","meta","metaKey","tab","esc","space","up","down","left","right","xModifiers","modifiers","modifierQueue","map","modifier","filter","nativeEvent","brk","some","globalUtils","reportError","err","console","error","globals","runApp","AppComponent","config","exposeModule","navigator","init","globalComponents","globalHelpers","assign","renderError","extraProps","Root","containerId","container","document","getElementById","body","appendChild","render","createContext","Provider","Consumer","RouteContext","location","g","Function","eval","window","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_slicedToArray","arr","check","message","Error","superPropBase","_get","receiver","Reflect","desc","isModifiedEvent","event","handleClick","onClick","defaultPrevented","button","to","rest","createLocation","href","createHref","displayName","defaultProps","ViewController","$props","$top","$utils","$refs","$root","Area","_views","firstEnter","$init","$receive","actions","actionList","parseActions","args","doAction","bind","ReferenceError","data","readonlyTarget","m","RE_AREA_VIEW","area","getView","$super","deleteProperty","preventExtensions","subActions","t","derive","queue","_resolve","Promise","next","previousResult","item","actionContextData","apply","concat","then","_arrayWithHoles","_nonIterableRest","SYMBOL_DECORATORS","isDecoratorTarget","a","getDecorators","descriptorCache","createPropertyInitializerDescriptor","SYMBOL_INITIALIZED","decorators","description","decoratorHandler","obxDecoratorHandler","flag","ObxInstance","initialValue","initializer","propDecoratorHandler","defaultValue","decorator","extras","inheritedDecorators","obxProperty","deep","shallow","SHALLOW","ref","Reaction","level","throttleWait","scheduled","run","caughtException","sleeping","running","throttle","runReaction","schedule","scheduleReaction","deScheduleReaction","sync","flushIndex","flushWaiting","reaction","splice","runReactions","nextTick","flushReactions","MAX_REACTION_ITERATIONS","allReactions","pendingLength","iterations","sort","b","sleep","autorun","track","reactionRunner","dispose","$obx","firstRun","ctx","runFirstNow","callbacks","flush","copies","timerFlush","timer","MessageChannel","channel","port","port2","port1","onmessage","postMessage","setTimeout","callback","_resovle","useRAF","requestAnimationFrame","func","wait","lastArgs","lastThis","timerId","lastCalled","lastInvoked","invoke","time","thisArg","startTimer","pendingFunc","leadingEdge","timerExpired","shouldInvoke","timeSinceLastCalled","timeSinceLastInvoked","remainingWait","Math","min","trailingEdge","debounced","isInvoking","setMethods","weaksetMethods","isIterator","patchAccessor","methods","method","original","accessor","c","originNext","isMapIter","isEntries","done","createResultProxy","entries","includes","patchMutator","mutator","changed","setProto","weaksetProto","looseEqual","objA","objB","keysA","keysB","bHasOwnProperty","decode","s","decodeURIComponent","parseQuery","substring","ps","k","compose","ControllerType","routerView","compileVersion","registry","components","cssText","createController","controller","$prerendering","prerendering","utils","helpers","$registry","compileRequest","defined","loc","uri","nextState","request","query","$enter","View","style","element","setAttribute","createTextNode","head","$destroy","removeChild","$didMount","dispatchEvent","Event","arrayWithoutHoles","iterableToArray","nonIterableSpread","_toConsumableArray","_iterableToArray","iter","from","addLeadingSlash","charAt","stripLeadingSlash","substr","hasBasename","prefix","toLowerCase","stripBasename","stripTrailingSlash","parsePath","hash","hashIndex","searchIndex","createPath","currentLocation","_extends","decodeURI","URIError","resolvePathname","locationsAreEqual","valueEqual","createTransitionManager","prompt","setPrompt","nextPrompt","warning","confirmTransitionTo","getUserConfirmation","listeners","appendListener","isActive","listener","arguments","notifyListeners","_len","_key","canUseDOM","getConfirmation","confirm","supportsHistory","ua","userAgent","supportsPopStateOnHashChange","supportsGoWithoutReloadUsingHash","isExtraneousPopstateEvent","PopStateEvent","HashChangeEvent","getHistoryState","globalHistory","canUseHistory","needsHashChangeListener","_props","_props$forceRefresh","forceRefresh","_props$getUserConfirm","_props$keyLength","keyLength","basename","getDOMLocation","historyState","_ref","_window$location","createKey","random","transitionManager","setState","handlePopState","handlePop","handleHashChange","forceNextPop","ok","revertPop","fromLocation","toLocation","toIndex","allKeys","fromIndex","delta","go","initialLocation","pushState","prevIndex","nextKeys","replaceState","goForward","listenerCount","checkDOMListeners","addEventListener","removeEventListener","isBlocked","block","unblock","listen","unlisten","HashChangeEvent$1","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","getHashPath","pushHashPath","replaceHashPath","canGoWithoutReload","_props$hashType","hashType","_HashPathCoders$hashT","ignorePath","locationsAreEqual$$1","encodedPath","prevLocation","allPaths","lastIndexOf","hashChanged","nextPaths","clamp","lowerBound","upperBound","max","_props$initialEntries","initialEntries","_props$initialIndex","initialIndex","nextIndex","nextEntries","canGo","className","activeClassName","activeStyle","actived","classNames","hasOwn","classes","arg","argType","inner","default","define","computeMatch","computedMatch","forceUpdate","perform","computeTo","__PRERENDER_INJECTED","version","VERSION","log","virtual","inExpression","areasMap","areas","areaInstance","views","exprs","willSleep","marked","purged","getChildren","renderArea","isDisplayError","getLoopData","delegate","loop","xid","getProps","getSlots","RE_XID","areaid","tagName","view","tryRender","__routerView","getExpr","child","produce","purge","$each","_derive","getReaction","runImmediately","DisplayError","iterMap","iterSet","frags","X","_iterableToArrayLimit","_arr","_n","_d","_e","_i","_s","_assertThisInitialized","_superPropBase","_setPrototypeOf","childFlag","isValidArrayIndex","limit","parseFloat","floor","isFinite","arrayProxyTraps","arrayMethods","Number","arrayProto","proxied","inserted","rawTarget","objectProxyTraps","objectProto","mapMethods","mapProto","SYMBOL_REACTION","SYMBOL_ISUNMOUNTED","defaultComponentWillUnmount","defaultShouldComponentUpdate","nextProps","shouldConstruct","C","isReactComponent","isFunctionComponent","observer","componentClass","contextTypes","propTypes","mixinLifecycleEvents","isObxReactObserver","baseRender","makeComponentReactive","reactiveRender","isRenderingPending","exception","rendering","initialName","rootNodeID","_reactInternalFiber","_debugID","componentWillReact","hasError","$level","componentWillUnmount","originFunc","shouldComponentUpdate","looseIndexOf","_objectWithoutPropertiesLoose","sourceKeys","_arrayWithoutHoles","arr2","_nonIterableSpread","spliceOne","toParts","fromParts","isToAbs","isFromAbs","mustEndAbs","hasTrailingSlash","last","part","valueOf","every","aValue","bValue","isProduction","condition","text","warn","_toArray","parse","tokensToFunction","tokensToRegExp","DEFAULT_DELIMITER","DEFAULT_DELIMITERS","PATH_REGEXP","RegExp","str","tokens","defaultDelimiter","delimiter","delimiters","pathEscaped","escaped","offset","capture","group","partial","repeat","optional","escapeGroup","escapeString","matches","encode","encodeURIComponent","token","segment","j","flags","regexpToRegexp","groups","arrayToRegexp","stringToRegexp","start","endsWith","route","isEndDelimited","rootContext","setMatch","inject","destroy","RoutePage404","msg","main","createDynamicLoader","loader","page","h","Loader","patchBeforeRoute","beforeRoute","createRouter","pagesMap","hooks","baseDir","normalizedRoutes","normalized","getRoutes","routes","patchedBeforeRoute","redirect","RouteWrapper","factory","parentController","Router","fixed","ViewRender","router","interopRequireDefault","__esModule","AuthStatus","isRedirect","authPassed","not","prevComponent","checkAuth","pass","others","prevState","contextMap","getSubContext","withRouter","Custom","asRoutePage","wrappedComponentRef","originProps","WrappedComponent","languageMap","en","zh","zt","es","pt","fr","de","it","ru","ja","ko","ar","tr","th","vi","nl","he","pl","hi","uk","ms","tl","i18nsData","globalLocale","setGlobalLocale","locale","getGlobalLocale","g_config","language","browserLanguage","toUpperCase","createI18n","instKey","injectVars","template","$1","i18n","useLocale","setLocale","mockable","mock","createApi","stack","border","backgroundColor","padding","connect","computedProps","xmodelAssign","computedKeys","_setted","refresh","processXmodel","xmodel","events","addToEvents","useChecked","checked","processRef","refKey","originRef","processProps","propsArr","klass","processData","mergeEvents","matchClassProperty","RE_EVENT","matchEventProperty","combo","fns","RE_SPLIT","deepSet","origin","cloned","cloneDeep","isFn","isNativeEvent","nodeName","selected","multiple","src"],"mappings":"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","file":"./umd/recore.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Recore\"] = factory();\n\telse\n\t\troot[\"Recore\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 53);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 12f9f863ef3607d151e4","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/classCallCheck.js","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/createClass.js","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/getPrototypeOf.js","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/inherits.js","module.exports = window.React;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"window.React\"\n// module id = 5\n// module chunks = 0","import {\n  walk,\n  addHiddenFinalProp,\n  nextId,\n} from '../utils';\nimport { defineObxProperty } from './obx-property';\nimport { IObservable, propagateChanged, startBatch, endBatch } from './observable';\nimport { IDerivation, DerivationState, clearObserving } from '../derivation';\nimport { hasOwnProperty } from '../../utils/has-own-property';\nimport { splitPath } from '../../utils/split-path';\n\nexport enum ObxFlag {\n  REF = 0,\n  VAL = 1,\n  SHALLOW = 2,\n  DEEP = 3,\n}\n\nclass Obx<T = any[] | object> implements IObservable, IDerivation {\n  id = nextId();\n  localVer = 0;\n  observing: IObservable[] = [];\n  observers = new Set<IDerivation>();\n  dependenciesState = DerivationState.NOT_TRACKING;\n  lowestObserverState = DerivationState.UP_TO_DATE;\n\n  constructor(public name: string, public target: T, public obxFlag: ObxFlag = ObxFlag.DEEP) {\n\n  }\n\n  onBecomeDirty() {\n    propagateChanged(this);\n  }\n\n  onBecomeUnobserved() {\n    clearObserving(this);\n  }\n\n  reportChange(force: boolean = false) {\n    startBatch();\n    this.localVer++;\n    propagateChanged(this, force);\n    endBatch();\n  }\n\n  // TODO: remove this unused function, move to utils $getAsObx\n  getAsObx(path: PropertyKey): Obx<T | any[] | object> | void {\n    if (path === '') {\n      return this;\n    }\n\n    let entry = path;\n    let nestPath: string = '';\n\n    if (typeof path === 'string') {\n      const pathArray = splitPath(path);\n\n      if (!pathArray) {\n        return this;\n      }\n\n      entry = pathArray[1];\n      nestPath = pathArray[2];\n    }\n\n    if (!entry) {\n      return this.get(nestPath);\n    }\n\n    let ret = this.get(entry);\n\n    if (!hasObx(ret) && nestPath) {\n      ret = this.get(path);\n    }\n\n    const obx = getObx(ret);\n\n    if (obx && nestPath) {\n      return obx.getAsObx(nestPath);\n    }\n\n    return obx;\n  }\n\n  has(key: PropertyKey): boolean {\n    if (key == null || key === '') {\n      return false;\n    }\n\n    return (key in this.target);\n  }\n\n  get(key?: PropertyKey): any {\n    if (key == null || key === '') {\n      return this.target;\n    }\n\n    return (this.target as any)[key];\n  }\n\n  set(key: PropertyKey, val: any): void {\n    if (this.obxFlag > ObxFlag.REF) {\n      defineObxProperty(\n        this.target as any, key,\n        val,\n        undefined,\n        this.obxFlag,\n      );\n    } else {\n      (this.target as any)[key] = val;\n    }\n\n    this.reportChange();\n  }\n\n  del(key: PropertyKey) {\n    if (!hasOwnProperty(this.target, key)) {\n      return;\n    }\n\n    delete (this.target as any)[key];\n    this.reportChange();\n  }\n\n  extend(properties: object) {\n    startBatch();\n    walk(properties, (_, key, val) => this.set(key, val));\n    endBatch();\n  }\n}\n\nexport default Obx;\n\nexport const SYMBOL_OBX = Symbol.for('obx');\nexport function injectObx(obj: any[] | object, obx: Obx): void {\n  addHiddenFinalProp(obj, SYMBOL_OBX, obx);\n}\n\nexport function getObx(obj: any): Obx | undefined {\n  return obj ? (obj as any)[SYMBOL_OBX] : undefined;\n}\n\nexport function hasObx(obj: any[] | object): boolean {\n  return hasOwnProperty(obj, SYMBOL_OBX) && (obj as any)[SYMBOL_OBX] instanceof Obx;\n}\n\nexport function reportChange(obj: any, force: boolean = false) {\n  const obx = getObx(obj);\n  if (obx) {\n    obx.reportChange(force);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx.ts","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/defineProperty.js","import { globalState } from './global-state';\nimport { hasObx, getObx } from './observable/obx';\nimport { startBatch, endBatch } from './observable/observable';\nimport { isUnInitializedDecoratorTarget, initializeDecoratorTarget } from './decorators';\nimport { splitPath } from '../utils/split-path';\n\nexport function nextId() {\n  return (++globalState.guid).toString(36).toLocaleLowerCase();\n}\n\nexport function walk(obj: object, fn: (obj: object, key: string, val: any) => void): void {\n  const keys = Object.keys(obj) as any;\n  for (let i = 0; i < keys.length; i++) {\n    fn(obj, keys[i], (obj as any)[keys[i]]);\n  }\n}\n\nexport function addHiddenProp(object: any, propName: string | symbol, value: any) {\n  Object.defineProperty(object, propName, {\n    enumerable: false,\n    writable: true,\n    configurable: true,\n    value,\n  });\n}\n\nexport function addHiddenFinalProp(object: any, propName: string | symbol, value: any) {\n  Object.defineProperty(object, propName, {\n    enumerable: false,\n    writable: false,\n    configurable: true,\n    value,\n  });\n}\n\nfunction formatNestValue(nestPath: string, val: any): any {\n  if (!nestPath) {\n    return val;\n  }\n\n  const pathArray = splitPath(nestPath, true);\n\n  if (!pathArray) {\n    return val;\n  }\n\n  const [ _, path, key ] = pathArray;\n\n  return formatNestValue(path, key ? { [key]: val } : val);\n}\n\nexport function $has(target: any, path: PropertyKey): boolean {\n  if (path === '' || target == null) {\n    return false;\n  }\n\n  let entry = path;\n  let nestPath: string = '';\n\n  if (typeof path === 'string') {\n    const pathArray = splitPath(path, true);\n\n    if (!pathArray) {\n      return false;\n    }\n\n    entry = pathArray[2];\n    nestPath = pathArray[1];\n  }\n\n  if (!entry) {\n    return $has(target, nestPath);\n  }\n\n  let ret = target;\n  if (nestPath) {\n    ret = $get(target, nestPath);\n    if (ret == null) {\n      return false;\n    }\n  }\n\n  return hasObx(ret) ? getObx(ret)!.has(entry) : (entry in ret);\n}\n\nexport function $get(target: any, path: PropertyKey): any {\n  if (path === '' || target == null) {\n    return target;\n  }\n\n  let entry = path;\n  let nestPath = '';\n\n  if (typeof path === 'string') {\n    const pathArray = splitPath(path);\n\n    if (!pathArray) {\n      return undefined;\n    }\n\n    entry = pathArray[1];\n    nestPath = pathArray[2];\n  }\n\n  if (!entry) {\n    return $get(target, nestPath);\n  }\n\n  if (isUnInitializedDecoratorTarget(target)) {\n    initializeDecoratorTarget(target);\n  }\n\n  const ret = hasObx(target) ? getObx(target)!.get(entry) : target[entry];\n\n  if (!nestPath || ret == null) {\n    return ret;\n  }\n\n  return $get(ret, nestPath);\n}\n\nexport function $set(target: any, path: PropertyKey, val: any) {\n  if (path === '' || target == null) {\n    return;\n  }\n\n  let entry = path;\n  let nestPath: string = '';\n\n  if (typeof path === 'string') {\n    const pathArray = splitPath(path);\n\n    if (!pathArray) {\n      return;\n    }\n\n    entry = pathArray[1];\n    nestPath = pathArray[2];\n  }\n\n  if (!entry) {\n    if (nestPath) {\n      $set(target, nestPath, val);\n    }\n    return;\n  }\n\n  if (isUnInitializedDecoratorTarget(target)) {\n    initializeDecoratorTarget(target);\n  }\n\n  let v;\n  if (hasObx(target)) {\n    const obx = getObx(target)!;\n    if (!nestPath || (v = obx.get(entry)) == null) {\n      obx.set(entry, formatNestValue(nestPath, val));\n      return;\n    }\n  } else if (!nestPath || (v = target[entry]) == null) {\n    target[entry] = formatNestValue(nestPath, val);\n    return;\n  }\n\n  $set(v, nestPath, val);\n}\n\nexport function $del(target: any, path: PropertyKey) {\n  if (path === '' || target == null) {\n    return;\n  }\n\n  let entry = path;\n  let nestPath: string = '';\n\n  if (typeof path === 'string') {\n    const pathArray = splitPath(path, true);\n\n    if (!pathArray) {\n      return;\n    }\n\n    entry = pathArray[2];\n    nestPath = pathArray[1];\n  }\n\n  if (!entry) {\n    $del(target, nestPath);\n    return;\n  }\n\n  let ret = target;\n  if (nestPath) {\n    ret = $get(target, nestPath);\n    if (ret == null) {\n      return;\n    }\n  }\n\n  if (isUnInitializedDecoratorTarget(ret)) {\n    initializeDecoratorTarget(ret);\n  }\n\n  if (hasObx(ret)) {\n    getObx(ret)!.del(entry);\n  } else {\n    delete ret[entry];\n  }\n}\n\nexport function $extend(target: any, properties: object) {\n  startBatch();\n  walk(properties, (_, key, val) => $set(target, key, val));\n  endBatch();\n}\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/utils.ts","import {\n  History,\n  HashHistoryBuildOptions,\n  BrowserHistoryBuildOptions,\n  createBrowserHistory,\n  createHashHistory,\n  createMemoryHistory,\n  LocationState,\n} from 'history';\nimport { invariant } from '../utils';\n\nexport type HistoryMode = 'browser' | 'hash' | 'memory';\n\nexport type HistoryOptions = {\n  mode?: HistoryMode;\n} & (HashHistoryBuildOptions | BrowserHistoryBuildOptions);\n\nexport class Navigator {\n  private options: HistoryOptions | null = {};\n  private _history: History | null = null;\n\n  get history(): History {\n    if (this._history) {\n      return this._history;\n    }\n\n    invariant(this.options, 'should not use \"navigator.history\" before bootstrap');\n\n    const options: any = this.options || {};\n\n    if (options.mode === 'hash') {\n      this._history = createHashHistory(options);\n    } else if (options.mode === 'memory') {\n      this._history = createMemoryHistory(options);\n    } else {\n      this._history = createBrowserHistory(options);\n    }\n    return this._history;\n  }\n\n  init(options: HistoryMode | HistoryOptions = {}) {\n    if (typeof options === 'string') {\n      options = { mode: options };\n    }\n    this.options = options;\n  }\n\n  goto(path: string, state?: LocationState, reload?: true): void {\n    if (reload) {\n      if (state) {\n        state.__reload = Date.now();\n      } else {\n        state = { __reload: Date.now() };\n      }\n    }\n    this.history.push(path, state);\n  }\n\n  goBack(): void {\n    this.history.goBack();\n  }\n}\n\nexport default new Navigator();\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/navigator.ts","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/typeof.js","import { nextId } from '../utils';\nimport { DerivationState, IDerivation, setDerivationDirty } from '../derivation';\nimport { globalState } from '../global-state';\nimport Obx, {\n  hasObx,\n  getObx,\n  injectObx,\n  ObxFlag,\n} from './obx';\nimport { isObject } from '../../utils/is-object';\n\nexport interface IDepTreeNode {\n  id: string;\n  name: string;\n  observing: IObservable[];\n}\n\nexport interface IObservable extends IDepTreeNode {\n  diffFlag?: boolean;\n\n  observers: Set<IDerivation>;\n\n  // Used to avoid redundant propagations\n  lowestObserverState: DerivationState;\n  // Used to push itself to global.pendingUnobservations at most once per batch.\n  isPendingUnobservation?: boolean;\n\n  // Id of the derivation *run* that last accessed this observable.\n  lastAccessedBy?: number;\n  isBeingObserved?: boolean;\n  onBecomeUnobserved(): void;\n}\n\nexport function addObserver(observable: IObservable, node: IDerivation) {\n  observable.observers.add(node)\n\n  if (observable.lowestObserverState > node.dependenciesState) {\n    observable.lowestObserverState = node.dependenciesState;\n  }\n}\n\nexport function removeObserver(observable: IObservable, node: IDerivation) {\n  observable.observers.delete(node)\n  if (observable.observers.size === 0) {\n    // deleting last observer\n    queueForUnobservation(observable);\n  }\n}\n\nexport function queueForUnobservation(observable: IObservable) {\n  if (!observable.isPendingUnobservation) {\n    observable.isPendingUnobservation = true;\n    globalState.pendingUnobservations.push(observable);\n  }\n}\n\nexport function startBatch() {\n  globalState.inBatch++;\n}\n\nexport function endBatch() {\n  if (--globalState.inBatch === 0) {\n    // the batch is actually about to finish, all unobserving should happen here.\n    const list = globalState.pendingUnobservations;\n    for (let i = 0; i < list.length; i++) {\n      const observable = list[i];\n      observable.isPendingUnobservation = false;\n      if (observable.observers.size === 0) {\n        if (observable.isBeingObserved) {\n          // if this observable had reactive observers, trigger the hooks\n          observable.isBeingObserved = false;\n          observable.onBecomeUnobserved();\n        }\n      }\n    }\n    globalState.pendingUnobservations = [];\n  }\n}\n\nexport function reportObserved(observable: IObservable): void {\n  const derivation = globalState.trackingDerivation;\n  if (!derivation) {\n    return;\n  }\n\n  if (derivation.runId !== observable.lastAccessedBy) {\n    observable.lastAccessedBy = derivation.runId;\n    derivation.newObserving![derivation.unboundDepsCount!++] = observable;\n    if (!observable.isBeingObserved) {\n      observable.isBeingObserved = true;\n    }\n  }\n}\n\nexport function propagateChanged(observable: IObservable, force: boolean = false) {\n  if (observable.lowestObserverState === DerivationState.DIRTY && !force) {\n    return;\n  }\n  observable.lowestObserverState = DerivationState.DIRTY;\n  observable.observers.forEach(d => setDerivationDirty(d));\n}\n\nexport function propagateChangeConfirmed(observable: IObservable) {\n  if (observable.lowestObserverState === DerivationState.DIRTY) {\n    return;\n  }\n  observable.lowestObserverState = DerivationState.DIRTY;\n\n  observable.observers.forEach(d => {\n    if (d.dependenciesState === DerivationState.MYBE_DIRTY) {\n      d.dependenciesState = DerivationState.DIRTY;\n    } else if (d.dependenciesState === DerivationState.UP_TO_DATE) {\n      observable.lowestObserverState = DerivationState.UP_TO_DATE;\n    }\n  });\n}\n\nexport function propagateMaybeChanged(observable: IObservable) {\n  if (observable.lowestObserverState !== DerivationState.UP_TO_DATE) {\n    return;\n  }\n  observable.lowestObserverState = DerivationState.MYBE_DIRTY\n\n  observable.observers.forEach(d => {\n    if (d.dependenciesState === DerivationState.UP_TO_DATE) {\n      d.dependenciesState = DerivationState.MYBE_DIRTY;\n      d.onBecomeDirty();\n    }\n  });\n}\n\nexport function asObservable(thing: any, obxFlag: ObxFlag): Obx | undefined {\n  if (!isObject(thing)) {\n    return;\n  }\n\n  if (hasObx(thing)) {\n    return getObx(thing);\n  }\n\n  if (!Object.isExtensible(thing)) {\n    return;\n  }\n\n  const name = (thing.constructor.name || 'ObservableObject') + '@' + nextId();\n  const ObxContructor = (asObservable as any).getObxContructor(thing);\n  let obx = ObxContructor ? new ObxContructor(name, thing, obxFlag) : null;\n\n  if (obx) {\n    injectObx(thing, obx);\n    return obx;\n  }\n}\n\n(asObservable as any).getObxContructor = () => Obx;\n\nexport function observeIterable(items: Iterable<any>, obxFlag: ObxFlag): void {\n  for (let n of items) {\n    asObservable(n, obxFlag);\n  }\n}\n\nexport function reportPropValue(propValue: any, propFlag: ObxFlag): void {\n  if (propValue == null) return;\n\n  const x = propFlag > ObxFlag.REF\n    ? asObservable(propValue, propFlag)\n    : getObx(propValue);\n\n  if (x) {\n    reportObserved(x);\n  }\n}\n\nexport function reportChildValue(propValue: any, ownerFlag: ObxFlag): void {\n  if (propValue == null) return;\n\n  const x = ownerFlag > ObxFlag.VAL\n    ? asObservable(propValue,\n        ownerFlag === ObxFlag.DEEP ? ObxFlag.DEEP : ObxFlag.VAL\n      )\n    : getObx(propValue);\n\n  if (x) {\n    reportObserved(x);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/observable.ts","export * from './fail';\nexport * from './has-own-property';\nexport * from './invariant';\nexport * from './is-object';\nexport * from './is-plain-object';\nexport * from './is-primitive';\nexport * from './loose-equal';\nexport * from './loose-index-of';\nexport * from './set-prototype-of';\nexport * from './shallow-equal';\nexport * from './throttle';\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.ts","import { globalState } from '../global-state';\nimport {\n  untrackedStart,\n  untrackedEnd,\n  IDerivation,\n  DerivationState,\n  runDerivedFunction,\n  shouldCompute,\n  isCaughtException,\n  clearObserving,\n  setDerivationDirty,\n} from '../derivation';\nimport { IObservable, reportObserved, startBatch, endBatch, propagateChangeConfirmed, propagateMaybeChanged, reportPropValue } from './observable';\nimport { nextId } from '../utils';\nimport { ObxFlag, SYMBOL_OBX, getObx } from './obx';\nimport { getProxiedValue } from './proxy';\nimport { is } from './compare';\nimport { isPrimitive } from '../../utils/is-primitive';\nimport { invariant } from '../../utils/invariant';\nimport { hasOwnProperty } from '../../utils/has-own-property';\n\nfunction getVer(obj: any): number {\n  const obx = getObx(obj);\n  return obx ? obx.localVer : 0;\n}\n\nexport function asNewValue(obj: object) {\n  const obx = getObx(obj);\n  if (obx) {\n    obx.localVer = obx.localVer + 1;\n  }\n  return obj;\n}\n\nexport default class ObxProperty implements IObservable, IDerivation {\n  id = nextId();\n  observing: IObservable[] = [];\n  observers = new Set<IDerivation>();\n  dependenciesState = DerivationState.NOT_TRACKING;\n  lowestObserverState = DerivationState.UP_TO_DATE;\n\n  private isComputing: boolean = false;\n  private isRunningSetter: boolean = false;\n  private pending: boolean = false;\n  private pendingValue: any = null;\n  private objectVer: number = 0;\n\n  constructor(\n    public name: string,\n    public scope: object | null,\n    private getter?: (...rest: any[]) => any,\n    private setter?: (v: any) => void,\n    private value?: any,\n    private obxFlag: ObxFlag = ObxFlag.DEEP,\n  ) { }\n\n  onBecomeDirty() {\n    propagateMaybeChanged(this);\n  }\n\n  onBecomeUnobserved() {\n    clearObserving(this);\n  }\n\n  ifModified() {\n    if (this.getter && shouldCompute(this)) {\n      startBatch();\n      if (this.computeValue()) {\n        propagateChangeConfirmed(this);\n        this.objectVer = getVer(this.value);\n      }\n      endBatch();\n    } else if (this.pending) {\n      this.pending = false;\n      const oldValue = this.value;\n      this.value = this.pendingValue;\n      if (!this.is(this.value, oldValue)) {\n        propagateChangeConfirmed(this);\n        this.objectVer = getVer(this.value);\n      }\n    }\n  }\n\n  private is(oldValue: any, value: any) {\n    return is(oldValue, value) && (isPrimitive (value) || (getVer(value) === this.objectVer));\n  }\n\n  get() {\n    invariant(!this.isComputing, `Cycle detected in computation ${this.name}`, this.getter);\n\n    reportObserved(this);\n\n    this.ifModified();\n    const result = this.value!;\n\n    if (isCaughtException(result)) {\n      throw result.cause;\n    }\n\n    reportPropValue(result, this.obxFlag);\n\n    return getProxiedValue(result);\n  }\n\n  set(value: any) {\n    invariant(\n      !this.isRunningSetter,\n      `The setter of observable value '${this.name}' is trying to update itself.`\n    );\n\n    invariant(\n      Boolean(this.setter || !this.getter),\n      `Cannot assign a new value to readonly value '${this.name}'.`\n    );\n\n    const oldValue = this.pending ? this.pendingValue : this.value;\n\n    if (!isCaughtException(oldValue) && this.is(oldValue, value)) {\n      return;\n    }\n\n    if (!this.setter) {\n      this.pendingValue = value;\n      if (!this.pending) {\n        this.pending = true;\n        propagateMaybeChanged(this);\n      }\n    } else {\n      this.isRunningSetter = true;\n      const prevTracking = untrackedStart();\n      try {\n        this.setter!.call(this.scope, value);\n      } finally {\n        untrackedEnd(prevTracking);\n      }\n      this.isRunningSetter = false;\n      setDerivationDirty(this);\n    }\n  }\n\n  private computeValue(): boolean {\n    const oldValue = this.value;\n    this.isComputing = true;\n    globalState.computationDepth++;\n    this.value = runDerivedFunction(this, this.getter!, this.scope);\n    globalState.computationDepth--;\n    this.isComputing = false;\n    return (isCaughtException(oldValue) || isCaughtException(this.value) || !this.is(this.value, oldValue));\n  }\n}\n\nfunction isObxProperty(descriptor?: PropertyDescriptor) {\n  if (!descriptor || !descriptor.get) {\n    return false;\n  }\n  return (descriptor.get as any)[SYMBOL_OBX] ? true : false;\n}\n\nexport function ensureObxProperty(obj: any, prop: PropertyKey, obxFlag: ObxFlag = ObxFlag.DEEP) {\n  const descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n  if (!descriptor || isObxProperty(descriptor)) {\n    return;\n  }\n  defineObxProperty(obj, prop, undefined, descriptor, obxFlag);\n}\n\nexport function defineObxProperty(\n  obj: object, key: PropertyKey, val: any,\n  descriptor?: PropertyDescriptor,\n  obxFlag: ObxFlag = ObxFlag.DEEP\n): void {\n  if (!descriptor) {\n    descriptor = Object.getOwnPropertyDescriptor(obj, key);\n  }\n  if (descriptor && descriptor.configurable === false) {\n    return;\n  }\n\n  if (val == null && descriptor && hasOwnProperty(descriptor, 'value')) {\n    val = descriptor.value;\n  }\n\n  const getter = descriptor && descriptor.get;\n  const setter = descriptor && descriptor.set;\n  const property = new ObxProperty(String(key), obj, getter, setter, val, obxFlag);\n  const get = () => property.get();\n  (get as any)[SYMBOL_OBX] = property;\n\n  Object.defineProperty(obj, key, {\n    enumerable: true,\n    configurable: true,\n    get,\n    set: (newVal) => property.set(newVal),\n  });\n}\n\n\nexport function getObxProperty(obj: object, key: PropertyKey) {\n  const descriptor = Object.getOwnPropertyDescriptor(obj, key);\n\n  if (!descriptor || !descriptor.get) {\n    return null;\n  }\n\n  return (descriptor.get as any)[SYMBOL_OBX] as ObxProperty;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx-property.ts","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","import pathToRegexp from 'path-to-regexp';\nimport { shallowEqual } from '../../utils/shallow-equal';\n\nconst patternCache: any = {};\nconst cacheLimit = 10000;\nlet cacheCount = 0;\n\nexport interface Compiled {\n  re: RegExp;\n  keys: pathToRegexp.Key[];\n}\n\nfunction compilePath(pattern: string, options: any): Compiled {\n  const cacheKey = `${options.end}${options.strict}${options.sensitive}`;\n  const cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n\n  if (cache[pattern]) return cache[pattern];\n\n  const keys: pathToRegexp.Key[] = [];\n  const re = pathToRegexp(pattern, keys, options);\n  const compiledPattern = { re, keys };\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledPattern;\n    cacheCount++;\n  }\n\n  return compiledPattern;\n}\n\nfunction compileGenerator(pattern: string): pathToRegexp.PathFunction {\n  const cacheKey = pattern;\n  const cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n\n  if (cache.generator) return cache.generator;\n\n  const compiledGenerator = pathToRegexp.compile(pattern);\n\n  if (cacheCount < cacheLimit) {\n    cache.generator = compiledGenerator;\n    cacheCount++;\n  }\n\n  return compiledGenerator;\n}\n\nexport class MatchResult {\n  constructor(\n    public path: string = '/',\n    public url: string = '/',\n    public isExact: boolean = false,\n    public params: { [key: string]: any } = {}\n  ) {}\n}\n\n/**\n * Public API for matching a URL pathname to a path pattern.\n */\nexport function matchPath(\n  pathname: string,\n  options: MatchOptions | string = {},\n  parent?: MatchResult\n): MatchResult | null | undefined {\n  if (typeof options === \"string\") {\n    options = { path: options };\n  }\n\n  let {\n    path,\n    exact = false,\n    strict = false,\n    sensitive = false,\n  } = options;\n\n  if (path == null) {\n    return parent;\n  }\n\n  if (path.slice(-3) === '/**' || path === '**') {\n    path = path === '**' ? '' : (path.slice(0, -3) || '/');\n    exact = false;\n  }\n\n  path = resolve(path, parent ? parent.url : '/');\n\n  const { re, keys } = compilePath(path, { end: exact, strict, sensitive });\n  const match = re.exec(pathname);\n\n  if (!match) {\n    return null;\n  }\n\n  const [url, ...values] = match;\n  const isExact = pathname === url;\n\n  if (exact && !isExact) return null;\n\n  return new MatchResult(\n    path,\n    path === '/' && url === '' ? '/' : url,\n    isExact,\n    keys.reduce<{[k: string]: any}>((memo, key, index) => {\n      memo[key.name] = values[index];\n      return memo;\n    }, {})\n  );\n};\n\nexport interface MatchOptions {\n  path?: string;\n  exact?: boolean;\n  strict?: boolean;\n  sensitive?: boolean;\n}\n\n\n/**\n * Public API for generating a URL pathname from a pattern and parameters.\n */\nexport function generatePath(pattern = '/', params = {}): string {\n  if (pattern === '/') {\n    return pattern;\n  }\n  const generator = compileGenerator(pattern);\n  return generator(params);\n}\n\nfunction normalizeArray(parts: string[], allowAboveRoot: boolean) {\n  const res = [];\n  for (let i = 0; i < parts.length; i++) {\n    const p = parts[i];\n\n    // ignore empty parts\n    if (!p || p === '.') {\n      continue;\n    }\n\n    if (p === '..') {\n      if (res.length && res[res.length - 1] !== '..') {\n        res.pop();\n      } else if (allowAboveRoot) {\n        res.push('..');\n      }\n    } else {\n      res.push(p);\n    }\n  }\n\n  return res;\n}\nfunction normalize(path: string): string {\n  const isAbsolute = path[0] === '/';\n\n  const segments = normalizeArray(path.split('/'), !isAbsolute);\n  if (isAbsolute) {\n    segments.unshift('');\n  } else if (segments.length < 1 || segments[0] !== '..') {\n    segments.unshift('.');\n  }\n\n  return segments.join('/');\n}\n\nexport function resolve(id: string, base?: string): string {\n  id = id.replace(/\\\\/g, '/');\n  if (id[0] !== '/' && base) {\n    if (base.slice(-1) !== '/') {\n      base += '/';\n    }\n    id = `${base}${id}`;\n  }\n\n  return normalize(id);\n}\n\n\nexport function locationIs(loc1: any, loc2: any) {\n  if (loc1 === loc2) {\n    return true;\n  }\n  if (!loc1 || !loc2 || (loc1.pathname + loc1.search) !== (loc2.pathname + loc2.search)) {\n    return false;\n  }\n  return shallowEqual(loc1.state, loc2.state);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/utils.ts","import { IDerivation } from './derivation';\nimport { Reaction } from './reaction';\nimport { IObservable } from './observable/observable';\n\nexport class Globals {\n  /**\n   * Currently running derivation\n   */\n  trackingDerivation: IDerivation | null = null;\n\n  /**\n   * Are we running a computation currently? (not a reaction)\n   */\n  computationDepth = 0;\n\n  /**\n   * Each time a derivation is tracked, it is assigned a unique run-id\n   */\n  runId = 0;\n\n  /**\n   * 'guid' for general purpose. Will be persisted amongst resets.\n   */\n  guid = 0;\n\n  /**\n   * Are we in a batch block? (and how many of them)\n   */\n  inBatch: number = 0;\n\n  /**\n   * Observables that don't have observers anymore\n   */\n  pendingUnobservations: IObservable[] = [];\n\n  /**\n   * List of scheduled, not yet executed, reactions.\n   */\n  pendingReactions: Reaction[] = [];\n\n  /**\n   * Are we currently processing reactions?\n   */\n  isRunningReactions = false;\n\n  /**\n   * disable dynamic observe\n   */\n  dynamicObserveDisabled = false;\n\n  reset() {\n    this.trackingDerivation = null;\n    this.computationDepth = 0;\n    this.runId = 0;\n    this.guid = 0;\n    this.inBatch = 0;\n    this.pendingUnobservations = [];\n    this.pendingReactions = [];\n    this.isRunningReactions = false;\n    this.dynamicObserveDisabled = false;\n  }\n}\n\nexport const globalState: Globals = new Globals();\n\nexport function getGlobalState(): Globals {\n  return globalState;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/global-state.ts","import { IObservable, IDepTreeNode, addObserver, removeObserver } from './observable/observable';\nimport { globalState } from './global-state';\n\nexport enum DerivationState {\n  // before being run or (outside batch and not being observed)\n  // at this point derivation is not holding any data about dependency tree\n  NOT_TRACKING = -1,\n  // no shallow dependency changed since last computation\n  // won't recalculate derivation\n  UP_TO_DATE = 0,\n  // don't have to recompute on every dependency change, but only when it's needed\n  MYBE_DIRTY = 1,\n  // A shallow dependency has changed since last computation and the derivation\n  // will need to recompute when it's needed next.\n  DIRTY = 2,\n}\n\nexport interface IDerivation extends IDepTreeNode {\n  observing: IObservable[];\n  dependenciesState: DerivationState;\n  newObserving?: null | IObservable[];\n  runId?: number; // Id of the current run of a derivation.\n  unboundDepsCount?: number; // amount of dependencies used by the derivation in this run, which has not been bound yet.\n  onBecomeDirty(): void;\n}\n\nexport class CaughtException {\n  constructor(public cause: any) {\n    // Empty\n  }\n}\n\nexport function isCaughtException(e: any): e is CaughtException {\n  return e instanceof CaughtException;\n}\n\ninterface ModifiedValue {\n  ifModified(): void;\n}\n\nexport function isModifiedValue(v: any): v is ModifiedValue {\n  return v.ifModified ? true : false;\n}\n\nexport function shouldCompute(derivation: IDerivation): boolean {\n  switch (derivation.dependenciesState) {\n    case DerivationState.UP_TO_DATE:\n      return false;\n    case DerivationState.NOT_TRACKING:\n    case DerivationState.DIRTY:\n      return true;\n    case DerivationState.MYBE_DIRTY: {\n      const prevUntracked = untrackedStart();\n      const obs = derivation.observing;\n      const l = obs.length;\n      for (let i = 0; i < l; i++) {\n        const obj = obs[i];\n        if (isModifiedValue(obj)) {\n          obj.ifModified();\n        }\n\n        if ((derivation.dependenciesState as any) === DerivationState.DIRTY) {\n          untrackedEnd(prevUntracked);\n          return true;\n        }\n      }\n      changeDependenciesStateTo0(derivation);\n      untrackedEnd(prevUntracked);\n      return false;\n    }\n  }\n}\n\nexport function runDerivedFunction(derivation: IDerivation, f: (...args:any[]) => any, context?: any) {\n  const prevTracking = globalState.trackingDerivation;\n  // pre allocate array allocation + room for variation in deps\n  derivation.newObserving = new Array(derivation.observing.length + 100);\n  derivation.unboundDepsCount = 0;\n  derivation.runId = ++globalState.runId;\n  globalState.trackingDerivation = derivation;\n  let result;\n  try {\n    result = f.call(context);\n  } catch (e) {\n    result = new CaughtException(e);\n  }\n  globalState.trackingDerivation = prevTracking;\n  changeDependenciesStateTo0(derivation);\n  bindDependencies(derivation);\n  return result;\n}\n\nfunction bindDependencies(derivation: IDerivation) {\n  const prevObserving = derivation.observing;\n  const observing = (derivation.observing = derivation.newObserving!);\n  let lowestNewObservingDerivationState = DerivationState.UP_TO_DATE;\n\n  // Go through all new observables and check diffValue: (this list can contain duplicates):\n  //   0: first occurrence, change to 1 and keep it\n  //   1: extra occurrence, drop it\n  let i0 = 0;\n  let l = derivation.unboundDepsCount!;\n  for (let i = 0; i < l; i++) {\n    const dep = observing[i];\n    if (!dep.diffFlag) {\n      dep.diffFlag = true;\n      if (i0 !== i) {\n        observing[i0] = dep;\n      }\n      i0++;\n    }\n\n    // Upcast is 'safe' here, because if dep is IObservable, `dependenciesState` will be undefined,\n    // not hitting the condition\n    if (((dep as any) as IDerivation).dependenciesState > lowestNewObservingDerivationState) {\n      lowestNewObservingDerivationState = ((dep as any) as IDerivation).dependenciesState;\n    }\n  }\n  observing.length = i0;\n\n  derivation.newObserving = null;\n  // Go through all old observables and check diffValue: (it is unique after last bindDependencies)\n  //   0: it's not in new observables, unobserve it\n  //   1: it keeps being observed, don't want to notify it. change to 0\n  l = prevObserving.length;\n  while (l--) {\n    const dep = prevObserving[l];\n    if (!dep.diffFlag) {\n      removeObserver(dep, derivation);\n    }\n    dep.diffFlag = false;\n  }\n\n  // Go through all new observables and check diffValue: (now it should be unique)\n  //   0: it was set to 0 in last loop. don't need to do anything.\n  //   1: it wasn't observed, let's observe it. set back to 0\n  while (i0--) {\n    const dep = observing[i0];\n    if (dep.diffFlag) {\n      dep.diffFlag = false;\n      addObserver(dep, derivation);\n    }\n  }\n\n  // Some new observed derivations may become stale during this derivation computation\n  // so they have had no chance to propagate staleness (#916)\n  if (lowestNewObservingDerivationState !== DerivationState.UP_TO_DATE) {\n    derivation.dependenciesState = lowestNewObservingDerivationState;\n    derivation.onBecomeDirty();\n  }\n}\n\nexport function clearObserving(derivation: IDerivation) {\n  const obs = derivation.observing;\n  derivation.observing = [];\n  let i = obs.length;\n  while (i--) {\n    removeObserver(obs[i], derivation);\n  }\n\n  derivation.dependenciesState = DerivationState.NOT_TRACKING;\n}\n\nexport function untracked<T>(action: () => T): T {\n  const prev = untrackedStart();\n  const res = action();\n  untrackedEnd(prev);\n  return res;\n}\n\nexport function untrackedStart(): IDerivation | null {\n  const prev = globalState.trackingDerivation;\n  globalState.trackingDerivation = null;\n  return prev;\n}\n\nexport function untrackedEnd(prev: IDerivation | null) {\n  globalState.trackingDerivation = prev;\n}\n\nexport function changeDependenciesStateTo0(derivation: IDerivation) {\n  if (derivation.dependenciesState === DerivationState.UP_TO_DATE) {\n    return;\n  }\n  derivation.dependenciesState = DerivationState.UP_TO_DATE;\n\n  const obs = derivation.observing;\n  let i = obs.length;\n  while (i--) {\n    obs[i].lowestObserverState = DerivationState.UP_TO_DATE;\n  }\n}\n\nexport function setDerivationDirty(derivation: IDerivation) {\n  if (derivation.dependenciesState === DerivationState.UP_TO_DATE) {\n    derivation.onBecomeDirty();\n  }\n  derivation.dependenciesState = DerivationState.DIRTY;\n}\n\nexport function setDerivationMybeDirty(derivation: IDerivation) {\n  if (derivation.dependenciesState === DerivationState.UP_TO_DATE) {\n    derivation.onBecomeDirty();\n  }\n  derivation.dependenciesState = DerivationState.MYBE_DIRTY;\n}\n\nexport function resetDerivationState(derivation: IDerivation) {\n  derivation.dependenciesState = DerivationState.NOT_TRACKING;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/derivation.ts","import { addHiddenFinalProp } from '../utils';\n\nexport const SYMBOL_PROXY = Symbol.for('proxy');\nexport const SYMBOL_RAW = Symbol.for('raw');\nexport interface Proxied<T> {\n  [SYMBOL_PROXY]: T;\n}\n\nexport function isProxied<T>(target: T): target is (T & Proxied<T>) {\n  return SYMBOL_PROXY in target;\n}\n\nexport function getProxy<T>(target: (T & Proxied<T>)) {\n  return target[SYMBOL_PROXY];\n}\n\nexport function setProxy(target: object, proxy: object) {\n  addHiddenFinalProp(target, SYMBOL_PROXY, proxy);\n}\n\nexport function getProxiedValue(target: any) {\n  return target && getProxy(target) || target;\n}\n\nexport function getRawValue(target: any) {\n  return target && target[SYMBOL_RAW] || target;\n}\n\nexport const supportProxy = 'Proxy' in global;\n\nexport function createProxy<T extends object>(target: T, taps: ProxyHandler<T>) {\n  if (isProxied(target)) {\n    return getProxy(target);\n  }\n\n  const proxy = new Proxy(target, taps);\n  setProxy(target, proxy);\n\n  return proxy;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/proxy.ts","export const prototypeHasOwnProperty = Object.prototype.hasOwnProperty;\n\nexport function hasOwnProperty(obj: any, key: string | number | symbol): boolean {\n  return obj && prototypeHasOwnProperty.call(obj, key);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/has-own-property.ts","import { Reaction, autorun, clearReactions } from './reaction';\nimport { nextTick, clearTicks } from './next-tick';\nimport { $get, $set, $del, $extend } from './utils';\nimport ObxArray from './observable/obx-array';\nimport ObxObject from './observable/obx-object';\nimport ObxSet from './observable/obx-set';\nimport ObxMap from './observable/obx-map';\nimport { asObservable } from './observable/observable';\nimport { globalState } from './global-state';\nimport { getRawValue as $raw } from './observable/proxy';\nimport { untracked } from './derivation';\nimport { reportChange, ObxFlag } from './observable/obx';\nimport { isPlainObject } from '../utils/is-plain-object';\nimport { asNewValue } from './observable/obx-property';\n\nexport function resetObx() {\n  clearTicks();\n  clearReactions();\n  globalState.reset();\n}\n\n(asObservable as any).getObxContructor = (thing: object) => {\n  if (Array.isArray(thing)) {\n    return ObxArray;\n  }\n  if (thing instanceof Set || thing instanceof WeakSet) {\n    return ObxSet;\n  }\n  if (thing instanceof Map) {\n    return ObxMap;\n  }\n  if (isPlainObject(thing)) {\n    return ObxObject;\n  }\n  return null;\n};\n\n// export api\nexport { Reaction, reportChange, asNewValue, ObxFlag, autorun, nextTick, untracked, $get, $set, $del, $extend, $raw };\nexport * from './decorators';\nexport * from './observer';\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/index.ts","export function isObject(value: any): value is object {\n  return value !== null && typeof value === 'object';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/is-object.ts","const RE_PATH = /^([^/]*)(?:\\/(.*))?$/;\nconst RE_PATH_REVERSE = /^(?:(.*)\\/)?([^/]+)$/;\nexport function splitPath(path: string, reverse: boolean = false) {\n  return reverse ? RE_PATH_REVERSE.exec(path) : RE_PATH.exec(path);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/split-path.ts","export function setPrototypeOf(target: any, proto: any) {\n  // tslint:disable-next-line\n  if (typeof Object.setPrototypeOf !== 'undefined') {\n    Object.setPrototypeOf(target, proto); // tslint:disable-line\n  } else {\n    target.__proto__ = proto;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/set-prototype-of.ts","import { render } from 'react-dom';\nimport { ReactType, ReactNode, createElement, Fragment } from 'react';\nimport Link from './router/link';\nimport NavLink from './router/nav-link';\nimport Route from './router/route';\nimport Redirect from './router/redirect';\nimport navigator, { HistoryOptions } from './navigator';\nimport Root from './router/root';\nimport { hasOwnProperty, isObject } from '../utils';\n\nexport function xId(obj: any, defaultKey: any): string {\n  return String(obj && obj.$id || defaultKey);\n}\n\nexport interface ComponentsMap {\n  [key: string]: ReactType;\n}\n\nfunction notFound(type: string) {\n  return () => createElement('div', null, `Component \"${type}\" Not Found.`);\n}\n\nfunction getComponent(maps: ComponentsMap, name: string) {\n  const ns = name.split('.');\n  let key = ns.shift()!;\n  if (!hasOwnProperty(maps, key)) {\n    return null;\n  }\n\n  let component = maps[key];\n  while (ns.length > 0) {\n    key = ns.shift()!;\n    component = (component as any)[key];\n    if (!component) {\n      return notFound(name);\n    }\n  }\n  return component;\n}\n\nexport function create(type: ReactType, props: any, children?: ReactNode[]) {\n  if (!children || children.length < 1) {\n    return createElement(type, props);\n  }\n\n  return createElement(type, props, ...children);\n}\n\nexport class Registry {\n  constructor(private maps: ComponentsMap, private parent?: Registry) {\n  }\n  get(type: ReactType): ReactType {\n    if (typeof type === 'string') {\n      const temp = getComponent(this.maps, type);\n      if (temp) {\n        return temp;\n      }\n      if (!this.parent) {\n        if (hasOwnProperty(internalMaps, type)) {\n          return internalMaps[type];\n        }\n\n        if (process.env.NODE_ENV === 'development') {\n          if (/^(A-Z)/.test(type)) {\n            fail(`Component \"type\" not registered.`);\n          }\n        }\n      }\n    }\n\n    return this.parent ? this.parent.get(type) : type;\n  }\n  register(typeOrMaps: string | ComponentsMap, Component?: ReactType) {\n    return register(this.maps, typeOrMaps, Component);\n  }\n  wrapperWith(maps: ComponentsMap) {\n    return new Registry(maps, this);\n  }\n\n  static create(maps?: ComponentsMap) {\n    if (maps) {\n      return defaultRegistry.wrapperWith(maps);\n    }\n    return defaultRegistry;\n  }\n}\n\nfunction register(maps: ComponentsMap, typeOrMaps: string | ComponentsMap, Component?: ReactType) {\n  if (typeof typeOrMaps === 'string' && Component) {\n    maps[typeOrMaps] = Component;\n  } else if (isObject(typeOrMaps)) {\n    Object.keys(typeOrMaps).forEach((key) => {\n      maps[key] = typeOrMaps[key];\n    });\n  }\n}\n\nconst globalMaps: ComponentsMap = {};\nconst internalMaps: ComponentsMap = {\n  Fragment,\n  Link,\n  NavLink,\n  Route,\n  Redirect,\n};\n\nconst defaultRegistry = new Registry(globalMaps);\n\ninterface Modifiers {\n  [modifier: string]: (e: KeyboardEvent) => false | void;\n}\n\nconst ModifiersMap: Modifiers = {\n  stop(e: Event) {\n    e.stopPropagation();\n  },\n  prevent(e: Event) {\n    e.preventDefault();\n  },\n  enter(e: KeyboardEvent): false | void {\n    if ((e.keyCode || e.charCode) !== 13) {\n      return false;\n    }\n  },\n  ctrl(e: KeyboardEvent): false | void {\n    if (!e.ctrlKey) {\n      return false;\n    }\n  },\n  alt(e: KeyboardEvent): false | void {\n    if (!e.altKey) {\n      return false;\n    }\n  },\n  shift(e: KeyboardEvent): false | void {\n    if (!e.shiftKey) {\n      return false;\n    }\n  },\n  meta(e: KeyboardEvent): false | void {\n    if (!e.metaKey) {\n      return false;\n    }\n  },\n  tab(e: KeyboardEvent): false | void {\n    if (e.keyCode !== 9) {\n      return false;\n    }\n  },\n  delete(e: KeyboardEvent): false | void {\n    // 'Backspace', 'Delete'\n    if (e.keyCode !== 8 && e.keyCode !== 46) {\n      return false;\n    }\n  },\n  esc(e: KeyboardEvent): false | void {\n    if (e.keyCode !== 27) {\n      return false;\n    }\n  },\n  space(e: KeyboardEvent): false | void {\n    if ((e.keyCode || e.charCode) !== 32) {\n      return false;\n    }\n  },\n  up(e: KeyboardEvent): false | void {\n    if (e.keyCode !== 38) {\n      return false;\n    }\n  },\n  down(e: KeyboardEvent): false | void {\n    if (e.keyCode !== 40) {\n      return false;\n    }\n  },\n  left(e: KeyboardEvent): false | void {\n    if (e.keyCode !== 37) {\n      return false;\n    }\n  },\n  right(e: KeyboardEvent): false | void {\n    if (e.keyCode !== 39) {\n      return false;\n    }\n  }\n};\n\nexport function xModifiers(modifiers: string | string[]) {\n  if (!Array.isArray(modifiers)) {\n    modifiers = modifiers.split('.');\n  }\n  const modifierQueue = modifiers.map((modifier) => ModifiersMap[modifier]).filter(Boolean);\n\n  return (e: any): false | void => {\n    if (e && e.nativeEvent) {\n      const brk = modifierQueue.some((fn) => fn(e) === false);\n      if (brk) {\n        return false;\n      }\n    }\n  };\n}\n\nexport interface AppConfig {\n  history?: HistoryOptions;\n  globalComponents?: ComponentsMap;\n  globalHelpers?: { [key: string]: any };\n  globalUtils?: { [key: string]: any };\n  containerId?: string;\n  renderError?: (err: any) => ReactNode;\n  reportError?: (err: any) => void;\n}\n\nexport const globalUtils: { [key: string]: any } = {};\n\nexport function reportError(err: any) {\n  console.error(err); // tslint:disable-line\n\n  if (globals.reportError) {\n    globals.reportError(err);\n  }\n}\n\nexport const globals: {\n  renderError?: (err: any) => ReactNode;\n  reportError?: (err: any) => void;\n} = {};\n\nexport function runApp(AppComponent: any, config: AppConfig = {}, exposeModule = false): any {\n  // init history\n  navigator.init(config.history);\n\n  if (config.globalComponents) {\n    register(globalMaps, config.globalComponents);\n  }\n\n  if (config.globalUtils || config.globalHelpers) {\n    Object.assign(globalUtils, config.globalUtils || config.globalHelpers);\n  }\n\n  if (config.renderError) {\n    globals.renderError = config.renderError;\n  }\n\n  if (config.reportError) {\n    globals.reportError = config.reportError;\n  }\n\n  if (exposeModule) {\n    return (extraProps?: any) => {\n      return createElement(\n        Root, null,\n        (props: any) => createElement(AppComponent as ReactType, {\n          ...props,\n          ...extraProps,\n        }),\n      )\n    };\n  }\n\n  const containerId = config.containerId || 'app';\n\n  let container = document.getElementById(containerId);\n  if (!container) {\n    container = document.createElement('div');\n    document.body.appendChild(container);\n    container.id = containerId;\n  }\n\n  render(createElement(\n    Root, null,\n    (props: any) => createElement(AppComponent as ReactType, {\n      ...props,\n    }),\n  ), container);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/utils.ts","import { createContext } from 'react';\nimport { MatchResult } from './utils';\nimport navigator from '../navigator';\n\nconst { Provider, Consumer } = createContext<RouteContext>({} as any);\n\nexport default class RouteContext {\n\n  get history() {\n    return navigator.history!;\n  }\n  get location() {\n    return this.history.location;\n  }\n  constructor(\n    public match?: MatchResult\n  ){}\n\n  setMatch(match: MatchResult) {\n    this.match = match;\n  }\n\n  static Provider = Provider;\n  static Consumer = Consumer;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/route-context.ts","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n// WEBPACK FOOTER //\n// (webpack)/buildin/global.js","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/slicedToArray.js","export function invariant(check: any, message: string, thing?: any) {\n  if (!check) {\n    throw new Error('[recore] Invariant failed: ' + message + (thing ? ` in '${thing}'` : ''));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/invariant.ts","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/get.js","import { isObject } from './is-object';\n\nexport function isPlainObject(value: any) {\n  if (!isObject(value)) {\n    return false;\n  }\n  const proto = Object.getPrototypeOf(value);\n  return proto === Object.prototype || proto === null || Object.getPrototypeOf(proto) === null;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/is-plain-object.ts","import compose from './compose';\nimport inject from './inject';\nimport navigator from './navigator';\n\nexport { compose, inject, navigator };\nexport * from './destory';\nexport * from './router';\nexport * from './utils';\nexport * from './i18ns';\nexport * from './mockable';\nexport * from './prerendering';\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/index.ts","import { Component, createElement } from 'react';\nimport { createLocation, LocationDescriptor } from 'history';\nimport navigator from '../navigator';\n\nfunction isModifiedEvent(event: MouseEvent): boolean {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\nexport interface LinkProps {\n  onClick?: (e: MouseEvent) => void;\n  target?: string;\n  replace?: boolean;\n  to: LocationDescriptor;\n  [rest: string]: any;\n}\n\nexport default class Link extends Component<LinkProps> {\n  static displayName = 'Link';\n\n  static defaultProps = {\n    replace: false\n  };\n\n  handleClick = (event: MouseEvent) => {\n    if (this.props.onClick) {\n      this.props.onClick(event);\n    }\n\n    if (\n      !event.defaultPrevented && // onClick prevented default\n      event.button === 0 && // ignore everything but left clicks\n      !this.props.target && // let browser handle \"target=_blank\" etc.\n      !isModifiedEvent(event) // ignore clicks with modifier keys\n    ) {\n      event.preventDefault();\n      const { replace, to } = this.props;\n\n      const { history } = navigator;\n\n      if (history) {\n        if (replace) {\n          history.replace(to as any);\n        } else {\n          history.push(to as any);\n        }\n      }\n    }\n  };\n\n  render() {\n    const { replace, to, ...rest } = this.props; // eslint-disable-line no-unused-vars\n\n    const history = navigator.history!;\n    const location = typeof to === 'string'\n      ? createLocation(to, null, undefined, history.location)\n      : to;\n\n    const href = history.createHref(location);\n\n    return createElement('a', {\n      ...rest,\n      onClick: this.handleClick,\n      href,\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/link.ts","import Area from './area';\nimport { $get, $set, addHiddenFinalProp } from '../obx/utils';\nimport { defineObxProperty } from '../obx/observable/obx-property';\nimport { reportError } from '../lib';\nimport { ObxFlag } from '../obx/observable/obx';\nimport { hasOwnProperty, setPrototypeOf } from '../utils';\nimport { initializeDecoratorTarget } from '../obx';\nimport { splitPath } from '../utils/split-path';\nimport { ReactInstance } from 'react';\n\nexport interface ActionConfig {\n  name: string;\n  fn?: () => void;\n  params?: {};\n}\n\nexport type FlowAction = string | ActionConfig | (() => void);\n\nexport interface ComponentProps {\n  [key: string]: any;\n}\n\nexport interface PageRequest extends ComponentProps {\n  uri: string;\n  path: string;\n  query: { [key: string]: any };\n  params: { [key: string]: any };\n  state: any;\n}\n\nexport abstract class ViewController<T extends Object = PageRequest> {\n  readonly $props: any = {};\n  readonly $top = this;\n  readonly $utils: any = {};\n  readonly $refs: { [id: string]: ReactInstance | null } = {};\n\n  constructor(props: T) {\n    defineObxProperty(this, '$props', props, {}, ObxFlag.REF);\n    defineObxProperty(this, '$refs', {}, {}, ObxFlag.VAL);\n    defineObxProperty(this, '_views', {}, {}, ObxFlag.VAL);\n  }\n\n  readonly $root = new Area(this, { id: 'root' });\n\n  $init(params: T) {\n    // , times: 1\n  }\n\n  $receive(params: T) {\n    // times: 0+\n  }\n\n  $enter(firstEnter: boolean, params: T) {\n    //  + , times: 1+\n    if (firstEnter) {\n      this.$init(params);\n    } else {\n      this.$receive(params);\n    }\n  }\n\n  $didMount() {\n    //  times: 1\n  }\n\n  $destroy() {\n    //  times: 1\n  }\n\n  _action(actions: FlowAction | FlowAction[]): () => void {\n    if (!Array.isArray(actions)) {\n      actions = [ actions ];\n    }\n\n    const context = this;\n    const scope = this;\n\n    const actionList = parseActions(actions, context);\n\n    return (...args: any[]) => {\n      return doAction(actionList, context, scope, args);\n    };\n  }\n\n  _get(key: string): any {\n    if (key === '' || key == null) {\n      return undefined;\n    }\n\n    const pathArray = splitPath(String(key));\n    const entry = pathArray && pathArray[1] || key;\n\n    if (entry in this) {\n      const ret = $get(this, key);\n      if (typeof ret === 'function') {\n        return ret.bind(this);\n      }\n      return ret;\n    }\n\n    if (hasOwnProperty(this.$props, key)) {\n      return this.$props[key];\n    }\n\n    const $utils = this.$utils;\n    if (key in $utils) {\n      return $utils[key];\n    }\n\n    if (hasOwnProperty(global, key)) {\n      return (global as any)[key];\n    }\n\n    reportError(new ReferenceError(`property \"${key}\" was not declared`));\n\n    return undefined;\n  }\n\n  _set(key: string, val: any) {\n    $set(this, key, val);\n  }\n\n  _derive(data: any) {\n    initializeDecoratorTarget(this as any);\n    addHiddenFinalProp(data, '$super', this);\n    setPrototypeOf(data, this);\n    defineObxProperty(data, '$refs', {}, {}, ObxFlag.VAL);\n    setPrototypeOf(data.$refs, this.$refs);\n    defineObxProperty(data, '_views', {}, {}, ObxFlag.VAL);\n    setPrototypeOf(data._views, this._views);\n    // TODO: possably cause bug on IE\n    return readonlyTarget(data);\n  }\n\n  private _views: { [id: string]: any } = {};\n  // eg. $('@area/afe') get area\n  // eg. $('@area/afe:viewid') get area viewprops\n  // eg. $('viewid') get current scope viewref\n  $(id: string): Area | {[key: string]: any} | any {\n    if (!id) {\n      return {};\n    }\n    const m = RE_AREA_VIEW.exec(id);\n    if (!m) {\n      return null;\n    }\n    if (!m[1]) {\n      return this._views[m[3]] || {};\n    }\n\n    const area = this.$root.get(m[1]);\n    if (!area) {\n      return {};\n    }\n    if (!m[2]) {\n      return area;\n    }\n    return area.getView(m[2]);\n  }\n}\n\nconst RE_AREA_VIEW = /^(?:(?:@([\\w\\-\\/]+)(?:\\:([\\w\\-]+))?)|([\\w\\-]+))$/;\n\nconst supportProxy = 'Proxy' in global;\n\nfunction readonlyTarget(target: any) {\n  if (!supportProxy) {\n    return target;\n  }\n  return new Proxy(target, {\n    set(_, name: PropertyKey, value: any) {\n      if (!hasOwnProperty(target, name)) {\n        (target as any).$super[name] = value;\n      }\n      return true;\n    },\n    deleteProperty() {\n      return false;\n    },\n    preventExtensions() {\n      return false;\n    },\n  });\n}\n\nfunction parseActions(actions: FlowAction[], context: any): any {\n  return actions.map((action: any) => {\n    if (!action) {\n      return null;\n    }\n\n    if (Array.isArray(action)) {\n      const subActions = parseActions(action, context);\n      return {\n        name: 'ActionGroup',\n        fn: (...args: any[]) => {\n          const scope = args.pop();\n          return doAction(subActions, context, scope, args);\n        },\n      };\n    }\n\n    const t = typeof action;\n\n    if (t === 'function') {\n      return {\n        name: 'anonymous',\n        fn: action,\n      };\n    }\n\n    // recore-loader not support yet\n    if (t === 'string' && typeof context[action] === 'function') {\n      if (action in context) {\n        return {\n          name: action,\n          fn: context[action],\n        };\n      }\n      return null;\n    }\n\n    // recore-loader not support yet\n    if (action.name && typeof context[action.name] === 'function') {\n      return {\n        name: action.name,\n        fn: context[action.name],\n        params: action.params,\n      };\n    }\n\n    return null;\n  }).filter(Boolean);\n}\n\nfunction derive(parent: any, data: object) {\n  setPrototypeOf(data, parent);\n  return data;\n}\n\nfunction doAction(queue: any[], context: any, scope: any, args: any[]) {\n  if (!queue) {\n    return;\n  }\n\n  queue = queue.slice(0);\n\n  let _resolve: () => void;\n\n  const i = new Promise((resolve) => {\n    _resolve = resolve;\n  });\n\n  const fail = reportError;\n\n  const next = (previousResult?: any) => {\n    const item = queue.shift();\n    if (!item) {\n      return _resolve();\n    }\n\n    let res;\n    try {\n      const actionContextData = derive(scope, {\n        previousResult,\n        ...item.params,\n      });\n      res = item.fn.apply(context, args.concat([ actionContextData ]));\n    } catch (e) {\n      return fail(e);\n    }\n\n    if (res === false) {\n      // interrupt\n      return null;\n    }\n\n    if (res && res.then) {\n      res.then(next).catch(fail);\n    } else if (res instanceof Error) {\n      fail(res);\n    } else {\n      next(res);\n    }\n    return null;\n  };\n\n  next();\n\n  return i;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/view-controller.ts","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/arrayWithHoles.js","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/nonIterableRest.js","export function isPrimitive(obj: any): boolean {\n  // null | undefined\n  if (obj == null) {\n    return true;\n  }\n  const t = typeof obj;\n  return t === 'boolean' || t === 'number' || t === 'string' || t === 'symbol';\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/is-primitive.ts","import { addHiddenProp, nextId } from './utils';\nimport { ObxFlag } from './observable/obx';\nimport { hasOwnProperty } from '../utils/has-own-property';\nimport { asObservable } from './observable/observable';\nimport { hasObx, injectObx } from './observable/obx';\nimport ObxInstance from './observable/obx-instance';\nimport ObxProperty, { defineObxProperty } from './observable/obx-property';\n\ntype DecoratorHandler = (target: any, description: DecoratorDescription) => void;\n\nexport interface DecoratorDescription {\n  prop: string;\n  descriptor?: PropertyDescriptor;\n  decoratorHandler: DecoratorHandler;\n  [key: string]: any\n}\n\nconst SYMBOL_DECORATORS = Symbol('__obxDecorators');\n\nexport interface DecoratorTarget {\n  [SYMBOL_DECORATORS]?: { [prop: string]: DecoratorDescription };\n}\n\nfunction isDecoratorTarget(a: any): a is DecoratorTarget {\n  return a[SYMBOL_DECORATORS] ? true : false;\n}\n\nfunction getDecorators(a: DecoratorTarget) {\n  return a[SYMBOL_DECORATORS];\n}\n\nconst descriptorCache: { [prop: string]: PropertyDescriptor } = {};\n\nfunction createPropertyInitializerDescriptor(prop: string): PropertyDescriptor {\n  return (descriptorCache[prop] || (descriptorCache[prop] = {\n    configurable: true,\n    enumerable: false,\n    get() {\n      initializeDecoratorTarget(this as DecoratorTarget);\n      // TODO not safe\n      return (this as any)[prop];\n    },\n    set(value) {\n      initializeDecoratorTarget(this as DecoratorTarget);\n      // TODO not safe\n      (this as any)[prop] = value;\n    },\n  }));\n}\n\nconst SYMBOL_INITIALIZED = Symbol('__obxInitialized');\n\nexport function isUnInitializedDecoratorTarget(a: any): a is DecoratorTarget {\n  return isDecoratorTarget(a) && (a as any)[SYMBOL_INITIALIZED] !== true;\n}\n\nexport function initializeDecoratorTarget(target: DecoratorTarget) {\n  if ((target as any)[SYMBOL_INITIALIZED] === true) {\n    return;\n  }\n  addHiddenProp(target, SYMBOL_INITIALIZED, true);\n\n  const decorators = getDecorators(target);\n  if (decorators) {\n    Object.keys(decorators).forEach((key) => {\n      const description = decorators[key];\n      description.decoratorHandler(target, description);\n    });\n  }\n}\n\nfunction obxDecoratorHandler(target: any, { prop, descriptor, flag}: DecoratorDescription) {\n  if (!hasObx(target)) {\n    const name = (target.constructor.name || 'ObservableObject') + '@' + nextId();\n    const obx = new ObxInstance(name, target);\n    injectObx(target, obx);\n  }\n\n  const initialValue = descriptor\n        ? (descriptor as any).initializer ? (descriptor as any).initializer.call(target) : descriptor.value\n        : undefined;\n\n  defineObxProperty(target as any, prop, initialValue, {\n    set: descriptor && descriptor.set,\n    get: descriptor && descriptor.get,\n  }, flag);\n}\n\nfunction propDecoratorHandler(target: any, { prop, descriptor }: DecoratorDescription) {\n  let defaultValue = descriptor\n        ? (descriptor as any).initializer ? (descriptor as any).initializer.call(target) : descriptor.value\n        : undefined;\n\n  defineObxProperty(target as any, prop, null, {\n    get() {\n      if (target.$props && target.$props[prop] !== undefined) {\n        return target.$props[prop];\n      }\n      return defaultValue;\n    },\n    set(v) {\n      if (defaultValue === undefined) {\n        defaultValue = v;\n      }\n    }\n  }, ObxFlag.REF);\n}\n\n// deep\nexport function observable(\n  target: any,\n  prop?: string,\n  descriptor?: PropertyDescriptor,\n  flag: ObxFlag = ObxFlag.DEEP\n): any {\n  if (!prop) {\n    const obx = asObservable(target, flag);\n    if (obx) {\n      return obx.target as any;\n    }\n    return target;\n  }\n\n  return decorator(target, prop, obxDecoratorHandler, descriptor, { flag });\n}\n\nfunction decorator(target: any, prop: string, decoratorHandler: DecoratorHandler, descriptor?: PropertyDescriptor, extras?: object) {\n  if (!hasOwnProperty(target, SYMBOL_DECORATORS)) {\n    const inheritedDecorators = target[SYMBOL_DECORATORS];\n    addHiddenProp(target, SYMBOL_DECORATORS, { ...inheritedDecorators });\n  }\n  target[SYMBOL_DECORATORS][prop] = {\n    prop,\n    decoratorHandler,\n    descriptor,\n    ...extras,\n  };\n  return createPropertyInitializerDescriptor(prop);\n}\n\nexport function prop(target: any, prop: string, descriptor?: PropertyDescriptor) {\n  return decorator(target, prop, propDecoratorHandler, descriptor);\n}\n\nexport const obx = observable;\n\nexport function obxProperty(target: any, prop: string, flag: ObxFlag = ObxFlag.DEEP) {\n  defineObxProperty(target, prop, null, undefined, flag);\n}\n\n// deep\nobservable.deep = function (target: any, prop?: string, descriptor?: PropertyDescriptor) {\n  return observable(target, prop, descriptor, ObxFlag.DEEP);\n};\n\n// shallow\nobservable.shallow = function (target: any, prop?: string, descriptor?: PropertyDescriptor) {\n  return observable(target, prop, descriptor, ObxFlag.SHALLOW);\n};\n\n// value\nobservable.val = function (target: any, prop?: string, descriptor?: PropertyDescriptor) {\n  return observable(target, prop, descriptor, ObxFlag.VAL);\n};\n\n// alias value\nobservable.self = observable.val;\n\n// ref\nobservable.ref = function (target: any, prop?: string, descriptor?: PropertyDescriptor) {\n  return observable(target, prop, descriptor, ObxFlag.REF);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/decorators.ts","import {\n  DerivationState,\n  IDerivation,\n  runDerivedFunction,\n  isCaughtException,\n  shouldCompute,\n  clearObserving,\n  CaughtException,\n} from './derivation';\nimport { nextTick } from './next-tick';\nimport { IObservable, endBatch, startBatch } from './observable/observable';\nimport { globalState } from './global-state';\nimport { nextId } from './utils';\nimport { throttle } from '../utils/throttle';\n\nexport class Reaction implements IDerivation {\n  observing: IObservable[] = [];\n  dependenciesState = DerivationState.NOT_TRACKING;\n  id = nextId();\n  scheduled = false;\n  run: () => void;\n  caughtException: any = null;\n\n  private sleeping = false;\n  private running = false;\n\n  constructor(\n    public name: string,\n    private check: () => void,\n    public level: number = 0,\n    throttleWait: number = 10\n  ) {\n    if (throttleWait > 0) {\n      this.run = throttle(this.runReaction.bind(this), throttleWait);\n    } else {\n      this.run = this.runReaction.bind(this);\n    }\n  }\n\n  onBecomeDirty() {\n    this.schedule();\n  }\n\n  schedule() {\n    if (this.scheduled || this.sleeping) {\n      return;\n    }\n    this.scheduled = true;\n    scheduleReaction(this);\n  }\n\n  isDirty(): boolean {\n    return shouldCompute(this);\n  }\n\n  runReaction() {\n    if (this.sleeping || this.running) {\n      return;\n    }\n\n    startBatch();\n    if (shouldCompute(this)) {\n      this.caughtException = null;\n      try {\n        this.check();\n      } catch (e) {\n        this.caughtException = new CaughtException(e);\n      }\n    }\n    endBatch();\n  }\n\n  track(fn: () => void) {\n    startBatch();\n    this.running = true;\n    const result = runDerivedFunction(this, fn);\n    if (isCaughtException(result)) {\n      this.caughtException = result;\n    }\n    this.running = false;\n    if (this.sleeping) {\n      clearObserving(this);\n    }\n    endBatch();\n  }\n\n  sleep() {\n    if (this.sleeping) {\n      return;\n    }\n    this.sleeping = true;\n    if (!this.running) {\n      startBatch();\n      clearObserving(this);\n      endBatch();\n      deScheduleReaction(this);\n    }\n  }\n\n  wakeup(sync: boolean = false) {\n    if (this.sleeping) {\n      this.sleeping = false;\n      if (sync) {\n        this.runReaction();\n      } else {\n        this.schedule();\n      }\n    }\n  }\n}\n\nlet flushIndex = 0;\nlet flushWaiting = false;\n\nfunction scheduleReaction(reaction: Reaction) {\n  const { pendingReactions, isRunningReactions } = globalState;\n  if (!isRunningReactions) {\n    pendingReactions.push(reaction);\n  } else {\n    let i = pendingReactions.length - 1;\n    //  0  1  2  3  4  5  6  7  8  9\n    //  0, 0, 1, 1, 1, 2, 2, 2, 3, 3\n    //       ^                 ^\n    //   flushIndex = 2        level = 2\n    //   break at: i = 7 or i = 2\n    while (i > flushIndex && pendingReactions[i].level > reaction.level) {\n      i--;\n    }\n    pendingReactions.splice(i + 1, 0, reaction);\n  }\n\n  runReactions();\n}\n\nfunction deScheduleReaction(reaction: Reaction) {\n  const { pendingReactions, isRunningReactions } = globalState;\n  if (!isRunningReactions) {\n    const i = pendingReactions.indexOf(reaction);\n    if (i > -1) {\n      pendingReactions.splice(i, 1);\n    }\n  }\n}\n\nexport function runReactions() {\n  // queue the flush\n  if (!flushWaiting) {\n    flushWaiting = true;\n    nextTick(flushReactions);\n  }\n}\n\nconst MAX_REACTION_ITERATIONS = 100;\n\nfunction flushReactions() {\n  globalState.isRunningReactions = true;\n  const allReactions = globalState.pendingReactions;\n  let pendingLength = 0;\n  let iterations = 0;\n\n  // low level run first\n  // sort as:\n  // 0, 0, 0, 1, 1, 1, 2, 2, 3, 4, 5, 5, 5\n  allReactions.sort((a, b) => a.level - b.level);\n\n  while (allReactions.length > pendingLength) {\n    pendingLength = allReactions.length;\n    if (++iterations === MAX_REACTION_ITERATIONS) {\n      // tslint:disable-next-line\n      console.error(\n        `Reaction doesn't converge to a stable state after ${MAX_REACTION_ITERATIONS} iterations.` +\n        ` Probably there is a cycle in the reactive function: ${allReactions[0]}`\n      );\n      break;\n    }\n    for (; flushIndex < pendingLength; flushIndex++) {\n      allReactions[flushIndex].scheduled = false;\n      allReactions[flushIndex].run();\n    }\n  }\n\n  flushIndex = 0;\n  flushWaiting = false;\n  allReactions.length = 0;\n  globalState.isRunningReactions = false;\n}\n\nexport function clearReactions() {\n  const { pendingReactions } = globalState;\n  let i = pendingReactions.length;\n  while (i--) {\n    pendingReactions[i].sleep();\n  }\n}\n\nexport interface Disposer {\n  (): void;\n  name?: string;\n  $obx: Reaction;\n}\nexport interface AutorunOptions {\n  throttle?: number;\n  sync?: boolean;\n  level?: number;\n  name?: string;\n  runFirstNow?: boolean;\n}\nexport interface RunContext {\n  dispose: Disposer;\n  firstRun: boolean;\n}\nexport type Action = (this: RunContext, context: RunContext) => any;\n\nexport function autorun(action: Action, options: number | true | AutorunOptions = {}): Disposer {\n  if (typeof options === 'number') {\n    options = { throttle: options };\n  } else if (options === true) {\n    options = { sync: true };\n  }\n  const name: string = options.name || (action as any).name || \"Autorun@\" + nextId();\n\n  const reaction = new Reaction(name, function (this: Reaction) {\n    this.track(reactionRunner);\n  }, options.level || 0, options.throttle || 0);\n\n  const dispose = () => {\n    reaction.sleep();\n  };\n\n  dispose.$obx = reaction;\n\n  let firstRun = true;\n  function reactionRunner() {\n    const ctx: RunContext = {\n      firstRun,\n      dispose,\n    }\n    action.call(ctx, ctx);\n    firstRun = false;\n  }\n\n  if (options.sync || options.runFirstNow) {\n    reaction.runReaction();\n  } else {\n    reaction.schedule();\n  }\n\n  return dispose;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/reaction.ts","const callbacks: Array<() => void> = [];\nlet pending = false;\n\nfunction flush() {\n  pending = false;\n  const copies = callbacks.slice(0);\n  callbacks.length = 0;\n  for (const fn of copies) {\n    fn();\n  }\n}\n\nlet timerFlush: () => void;\nif (typeof process === 'object' && process.nextTick) {\n  timerFlush = () => process.nextTick(flush);\n} else if (typeof Promise === 'function') { // tslint:disable-line\n  const timer = Promise.resolve(); // tslint:disable-line\n  timerFlush = () => {\n    timer.then(flush);\n    // if (isIOS) setTimeout(noop)\n  };\n} else if (typeof MessageChannel === 'function') {\n  const channel = new MessageChannel();\n  const port = channel.port2;\n  channel.port1.onmessage = flush;\n  timerFlush = () => {\n    port.postMessage(1);\n  };\n} else {\n  timerFlush = () => {\n    setTimeout(flush, 0);\n  };\n}\n\nexport function clearTicks() {\n  callbacks.length = 0;\n}\n\nexport function nextTick(callback?: () => void): Promise<any> {\n  let _resovle: () => void;\n\n  callbacks.push(() => {\n    callback && callback();\n    _resovle();\n  });\n\n  if (!pending) {\n    pending = true;\n    timerFlush();\n  }\n\n  return new Promise((resolve) => {\n    _resovle = resolve;\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/next-tick.ts","const useRAF = typeof requestAnimationFrame === 'function';\n\nexport function throttle(func: Function, wait: number) {\n  let lastArgs: any;\n  let lastThis: any;\n  let result: any;\n  let timerId: number | undefined;\n  let lastCalled: number | undefined;\n  let lastInvoked: number = 0;\n\n  function invoke(time: number) {\n    const args = lastArgs;\n    const thisArg = lastThis;\n\n    lastArgs = undefined;\n    lastThis = undefined;\n    lastInvoked = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function startTimer(pendingFunc: any, wait: number): number {\n    if (useRAF) {\n      return requestAnimationFrame(pendingFunc);\n    }\n    return setTimeout(pendingFunc, wait) as any;\n  }\n\n  function leadingEdge(time: number) {\n    lastInvoked = time;\n    timerId = startTimer(timerExpired, wait);\n    return invoke(time);\n  }\n\n  function shouldInvoke(time: number) {\n    const timeSinceLastCalled = time - lastCalled!;\n    const timeSinceLastInvoked = time - lastInvoked;\n\n    return (\n      lastCalled === undefined || (timeSinceLastCalled >= wait)\n      || (timeSinceLastCalled < 0) || timeSinceLastInvoked >= wait\n    );\n  }\n\n  function remainingWait(time: number) {\n    const timeSinceLastCalled = time - lastCalled!;\n    const timeSinceLastInvoked = time - lastInvoked;\n\n    return Math.min(wait - timeSinceLastCalled, wait - timeSinceLastInvoked);\n  }\n\n  function timerExpired() {\n    const time = Date.now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n\n    timerId = startTimer(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time: number) {\n    timerId = undefined;\n\n    if (lastArgs) {\n      return invoke(time);\n    }\n\n    lastArgs = undefined;\n    lastThis = undefined;\n    return result;\n  }\n\n  function debounced(this: any, ...args: any[]) {\n    const time = Date.now();\n    const isInvoking = shouldInvoke(time);\n\n    lastArgs = args;\n    lastThis = this;\n    lastCalled = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCalled);\n      }\n\n      timerId = startTimer(timerExpired, wait);\n      return invoke(lastCalled);\n    }\n\n    if (timerId === undefined) {\n      timerId = startTimer(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  return debounced;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/throttle.ts","import { addHiddenProp } from '../utils';\nimport Obx, { getObx, ObxFlag } from './obx';\nimport { reportChildValue } from './observable';\nimport { getProxiedValue } from './proxy';\nimport { setPrototypeOf } from '../../utils/set-prototype-of';\n\ntype SetType = Set<any> | WeakSet<any>;\n\nexport default class ObxSet extends Obx<SetType> {\n  constructor(name: string, target: SetType, obxFlag: ObxFlag = ObxFlag.DEEP) {\n    super(name, target, obxFlag);\n\n    setPrototypeOf(target, target instanceof Set ? setMethods : weaksetMethods);\n  }\n\n  has(key: PropertyKey) {\n    return false;\n  }\n\n  set(key: PropertyKey, val: any) {\n\n  }\n\n  get(key: PropertyKey) {\n    return undefined;\n  }\n\n  del(key: PropertyKey) {\n\n  }\n}\n\n\nfunction isIterator(v: any): v is Iterator<any> {\n  return v.next ? true : false;\n}\n\nexport function patchAccessor(keys: Array<string | symbol>, proto: any, methods: object): void {\n  keys.forEach((method) => {\n    const original = proto[method];\n    addHiddenProp(methods, method, function accessor(this: any, ...args: any[]) {\n      const obx = getObx(this);\n      const flag = obx ? obx.obxFlag : ObxFlag.REF;\n      if (method === 'forEach') {\n        const fn = args[0];\n        const thisArg = args[0] || this;\n        args[0] = (v: any, a: any, c: any) => {\n          reportChildValue(v, flag);\n          return fn.call(thisArg, getProxiedValue(v), a, c);\n        };\n        return original.apply(this, args);\n      }\n\n      const result = original.apply(this, args);\n\n      if (method === 'get') {\n        reportChildValue(result, flag);\n        return getProxiedValue(result);\n      }\n\n      if (isIterator(result)) {\n        const originNext = result.next;\n        const isMapIter = String(result) === '[object Map Iterator]';\n        const isEntries = method === 'entries';\n        let keys: string[] | null = null;\n        if (isEntries && !isMapIter) {\n          keys = ['0', '1'];\n        } else if (isMapIter && (isEntries || method === Symbol.iterator)) {\n          keys = ['1'];\n        }\n\n        result.next = function next() {\n          let n = originNext.call(this);\n          if (!n.done) {\n            if (keys) {\n              n.value = createResultProxy(n.value, flag, keys);\n            } else {\n              n = createResultProxy(n, flag);\n            }\n          }\n          return n;\n        };\n      }\n\n      return result;\n    });\n  });\n}\n\nfunction createResultProxy(entries: any, flag: ObxFlag, keys: any[] = ['value']) {\n  return new Proxy(entries, {\n    get(target, key) {\n      const v = target[key];\n      if (v && keys.includes(key)) {\n        reportChildValue(v, flag);\n      }\n      return getProxiedValue(v);\n    }\n  });\n}\n\nexport function patchMutator(keys: Array<string | symbol>, proto: any, methods: object): void {\n  keys.forEach((method) => {\n    const original = proto[method];\n    addHiddenProp(methods, method, function mutator(this: any, ...args: any[]) {\n      const size = this.size;\n      const result = original.apply(this, args);\n      const obx = getObx(this);\n      let changed = true;\n      switch (method) {\n        case 'add': case 'clear': case 'delete':\n          changed = this.size !== size;\n          break;\n      }\n      // now: \"set\" not compare values, default changed\n      if (obx && changed) {\n        obx.reportChange();\n      }\n      return result;\n    });\n  });\n}\n\n// ======= Set ========\nconst setProto = Set.prototype;\nconst setMethods = Object.create(setProto);\n\npatchMutator(['add', 'clear', 'delete'], setProto, setMethods);\n\npatchAccessor(['values', 'keys', 'entries', 'forEach', Symbol.iterator], setProto, setMethods);\n\n// ======= WeakSet ========\nconst weaksetProto = WeakSet.prototype;\nconst weaksetMethods = Object.create(weaksetProto);\n\npatchMutator(['add', 'delete', 'clear'], weaksetProto, weaksetMethods);\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx-set.ts","import { isObject } from './is-object';\n\nexport function looseEqual(a: any, b: any): boolean {\n  if (a === b) {\n    return true;\n  }\n  if (!isObject(a) && !isObject(b)) {\n    return String(a) === String(b);\n  }\n  return false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/loose-equal.ts","import { prototypeHasOwnProperty } from './has-own-property';\n\nexport function shallowEqual(objA: any, objB: any): boolean {\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || objA === null\n    || typeof objB !== 'object' || objB === null)\n  {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  const bHasOwnProperty = prototypeHasOwnProperty.bind(objB);\n  for (let i = 0; i < keysA.length; i++) {\n    if (!bHasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/shallow-equal.ts","import { ReactNode, Component, ReactElement } from 'react';\nimport { Registry, globalUtils } from './utils';\nimport { ViewController } from '../core/view-controller';\nimport { MatchResult } from './router/utils';\nimport navigator from './navigator';\nimport { prerendering } from './prerendering';\nimport { hasOwnProperty, shallowEqual, invariant, setPrototypeOf } from '../utils';\n\nexport type RenderType = (c: any) => ReactNode;\nexport interface RenderFunction {\n  (c: any): ReactElement;\n  compileVersion: number;\n}\n\nexport interface PageRequest {\n  uri: string;\n  path: string;\n  query: { [key: string]: any };\n  params: { [key: string]: any };\n  state: any;\n}\n\nfunction decode(s: string): string {\n  if (s) {\n    s = s.replace(/\\+/g, '%20');\n    s = decodeURIComponent(s);\n  }\n  return s;\n}\n\nfunction parseQuery(search: string): object {\n  const params: any = {};\n\n  if (!search) {\n    return params;\n  }\n\n  if (search.indexOf('?') === 0) {\n    search = search.substring(1);\n  }\n\n  const ps = search.split(/[&;]/);\n  let p;\n  let n;\n  let k;\n  let v;\n\n  for (let i = 0, l = ps.length; i < l; i++) {\n    p = ps[i];\n    n = p.indexOf('=');\n\n    if (n === 0) {\n      continue;\n    }\n    if (n < 0) {\n      k = p;\n      v = null;\n    } else {\n      k = decode(p.substring(0, n));\n      v = decode(p.substring(n + 1));\n    }\n\n    if (hasOwnProperty(params, k)) {\n      if (!Array.isArray(params[k])) {\n        params[k] = [params[k]];\n      }\n      params[k].push(v);\n    } else {\n      params[k] = v;\n    }\n  }\n  return params;\n}\n\nexport default function compose(render: RenderFunction, ControllerType?: any, routerView?: any) {\n  invariant(\n    render.compileVersion === 2,\n    `Project compiled result not suitable for current Recore version, please update \"reload-loader\" to 2.x`\n  );\n\n  if (!ControllerType) {\n    ControllerType = class extends ViewController { };\n  }\n\n  const proto = ControllerType.prototype;\n\n  invariant(\n    proto instanceof ViewController,\n    `Controller ${ControllerType.name} must be extends \"ViewController\"`\n  );\n\n  Object.defineProperty(proto, '__routerView', {\n    configurable: false,\n    enumerable: false,\n    value(props?: any) {\n      return routerView ? routerView(this, props) : null;\n    },\n  });\n\n  ControllerType.registry = Registry.create(ControllerType.components);\n  const cssText = ControllerType.cssText;\n\n  function createController(props: object) {\n    const controller = new ControllerType(props);\n    controller.$prerendering = prerendering;\n    const utils = (ControllerType.utils || ControllerType.helpers || {});\n    setPrototypeOf(utils, globalUtils);\n    controller.$utils = utils;\n    controller.$registry = ControllerType.registry;\n    return controller;\n  }\n\n  function compileRequest(props: any, state: any) {\n    let { controller } = state;\n    const { match, location, defined, ...extras } = props;\n    const loc = navigator.history!.location;\n    const reload = loc.state && loc.state.__reload;\n    if (match instanceof MatchResult) {\n      const uri = loc.pathname + loc.search;\n\n      if (!controller || reload\n        || state.uri !== uri\n        || !shallowEqual(state.state, loc.state)\n        || !shallowEqual(state.extras, extras))\n      {\n        const nextState: any = {\n          uri,\n          defined,\n          state: loc.state,\n          extras,\n        };\n\n        const request = {\n          ...ControllerType.defaultProps,\n          ...nextState,\n          path: loc.pathname,\n          params: match.params,\n          query: parseQuery(loc.search),\n        };\n\n        if (!controller || reload) {\n          controller = createController(request);\n          controller.$enter(true, request);\n          nextState.controller = controller;\n        } else {\n          controller.$props = request;\n          controller.$enter(false, request);\n        }\n\n        return nextState;\n      }\n    } else if (!controller || reload) {\n      const params = {\n        ...ControllerType.defaultProps,\n        ...extras,\n      }\n      controller = createController(params);\n      controller.$enter(true, params);\n      return {\n        controller,\n      };\n    } else {\n      const params = {\n        ...ControllerType.defaultProps,\n        ...extras,\n      }\n      controller.$props = params;\n      controller.$enter(false, params);\n    }\n\n    return null;\n  }\n\n  class View extends Component<any> {\n    static getDerivedStateFromProps(props: any, state: any) {\n      return compileRequest(props, state);\n    }\n\n    static displayName = ControllerType.name || 'View';\n\n    state: any = {};\n\n    private style?: HTMLStyleElement;\n\n    constructor(props: any) {\n      super(props);\n      if (cssText) {\n        const element = document.createElement('style');\n        element.setAttribute('type', 'text/css');\n        element.setAttribute('data-for', 'page');\n        element.appendChild(document.createTextNode(cssText));\n        document.head.appendChild(element);\n        this.style = element;\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.state.controller) {\n        this.state.controller.$destroy();\n      }\n      if (this.style) {\n        document.head.removeChild(this.style);\n      }\n    }\n\n    shouldComponentUpdate() {\n      return false;\n    }\n\n    componentDidMount() {\n      if (this.state.controller) {\n        this.state.controller.$didMount();\n      }\n      if (this.props.match && this.props.match.isExact) {\n        try {\n          document.dispatchEvent(new Event('render-event'));\n        } catch (e) {\n          // ignore\n        }\n      }\n    }\n\n    render() {\n      if (!this.state.controller) {\n        return null;\n      }\n\n      return render(this.state.controller);\n    }\n  }\n\n  return View;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/compose.ts","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/toConsumableArray.js","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/iterableToArray.js","import _extends from '@babel/runtime/helpers/esm/extends';\nimport resolvePathname from 'resolve-pathname';\nimport valueEqual from 'value-equal';\nimport warning from 'tiny-warning';\nimport invariant from 'tiny-invariant';\n\nfunction addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n}\nfunction stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n}\nfunction hasBasename(path, prefix) {\n  return path.toLowerCase().indexOf(prefix.toLowerCase()) === 0 && '/?#'.indexOf(path.charAt(prefix.length)) !== -1;\n}\nfunction stripBasename(path, prefix) {\n  return hasBasename(path, prefix) ? path.substr(prefix.length) : path;\n}\nfunction stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n}\nfunction parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n  var hashIndex = pathname.indexOf('#');\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n}\nfunction createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n  var path = pathname || '/';\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : \"?\" + search;\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : \"#\" + hash;\n  return path;\n}\n\nfunction createLocation(path, state, key, currentLocation) {\n  var location;\n\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = parsePath(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  try {\n    location.pathname = decodeURI(location.pathname);\n  } catch (e) {\n    if (e instanceof URIError) {\n      throw new URIError('Pathname \"' + location.pathname + '\" could not be decoded. ' + 'This is likely caused by an invalid percent-encoding.');\n    } else {\n      throw e;\n    }\n  }\n\n  if (key) location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = resolvePathname(location.pathname, currentLocation.pathname);\n    }\n  } else {\n    // When there is no prior location and pathname is empty, set it to /\n    if (!location.pathname) {\n      location.pathname = '/';\n    }\n  }\n\n  return location;\n}\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && valueEqual(a.state, b.state);\n}\n\nfunction createTransitionManager() {\n  var prompt = null;\n\n  function setPrompt(nextPrompt) {\n    process.env.NODE_ENV !== \"production\" ? warning(prompt == null, 'A history supports only one prompt at a time') : void 0;\n    prompt = nextPrompt;\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  }\n\n  function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          process.env.NODE_ENV !== \"production\" ? warning(false, 'A history needs a getUserConfirmation function in order to use a prompt message') : void 0;\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  }\n\n  var listeners = [];\n\n  function appendListener(fn) {\n    var isActive = true;\n\n    function listener() {\n      if (isActive) fn.apply(void 0, arguments);\n    }\n\n    listeners.push(listener);\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function notifyListeners() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(void 0, args);\n    });\n  }\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nfunction getConfirmation(message, callback) {\n  callback(window.confirm(message)); // eslint-disable-line no-alert\n}\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = window.navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n  return window.history && 'pushState' in window.history;\n}\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\n\nfunction supportsPopStateOnHashChange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n}\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n}\n/**\n * Returns true if a given popstate event is an extraneous WebKit event.\n * Accounts for the fact that Chrome on iOS fires real popstate events\n * containing undefined state when pressing the back button.\n */\n\nfunction isExtraneousPopstateEvent(event) {\n  return event.state === undefined && navigator.userAgent.indexOf('CriOS') === -1;\n}\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nfunction getHistoryState() {\n  try {\n    return window.history.state || {};\n  } catch (e) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    return {};\n  }\n}\n/**\n * Creates a history object that uses the HTML5 history API including\n * pushState, replaceState, and the popstate event.\n */\n\n\nfunction createBrowserHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Browser history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canUseHistory = supportsHistory();\n  var needsHashChangeListener = !supportsPopStateOnHashChange();\n  var _props = props,\n      _props$forceRefresh = _props.forceRefresh,\n      forceRefresh = _props$forceRefresh === void 0 ? false : _props$forceRefresh,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n\n  function getDOMLocation(historyState) {\n    var _ref = historyState || {},\n        key = _ref.key,\n        state = _ref.state;\n\n    var _window$location = window.location,\n        pathname = _window$location.pathname,\n        search = _window$location.search,\n        hash = _window$location.hash;\n    var path = pathname + search + hash;\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path, state, key);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function handlePopState(event) {\n    // Ignore extraneous popstate events in WebKit.\n    if (isExtraneousPopstateEvent(event)) return;\n    handlePop(getDOMLocation(event.state));\n  }\n\n  function handleHashChange() {\n    handlePop(getDOMLocation(getHistoryState()));\n  }\n\n  var forceNextPop = false;\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of keys we've seen in sessionStorage.\n    // Instead, we just default to 0 for keys we don't know.\n\n    var toIndex = allKeys.indexOf(toLocation.key);\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allKeys.indexOf(fromLocation.key);\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  }\n\n  var initialLocation = getDOMLocation(getHistoryState());\n  var allKeys = [initialLocation.key]; // Public interface\n\n  function createHref(location) {\n    return basename + createPath(location);\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.pushState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.href = href;\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          var nextKeys = allKeys.slice(0, prevIndex + 1);\n          nextKeys.push(location.key);\n          allKeys = nextKeys;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot push state in browsers that do not support HTML5 history') : void 0;\n        window.location.href = href;\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var href = createHref(location);\n      var key = location.key,\n          state = location.state;\n\n      if (canUseHistory) {\n        globalHistory.replaceState({\n          key: key,\n          state: state\n        }, null, href);\n\n        if (forceRefresh) {\n          window.location.replace(href);\n        } else {\n          var prevIndex = allKeys.indexOf(history.location.key);\n          if (prevIndex !== -1) allKeys[prevIndex] = location.key;\n          setState({\n            action: action,\n            location: location\n          });\n        }\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Browser history cannot replace state in browsers that do not support HTML5 history') : void 0;\n        window.location.replace(href);\n      }\n    });\n  }\n\n  function go(n) {\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.addEventListener(HashChangeEvent, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(PopStateEvent, handlePopState);\n      if (needsHashChangeListener) window.removeEventListener(HashChangeEvent, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nvar HashChangeEvent$1 = 'hashchange';\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!/' + stripLeadingSlash(path);\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substr(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: stripLeadingSlash,\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n}\n\nfunction pushHashPath(path) {\n  window.location.hash = path;\n}\n\nfunction replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n}\n\nfunction createHashHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  !canUseDOM ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Hash history needs a DOM') : invariant(false) : void 0;\n  var globalHistory = window.history;\n  var canGoWithoutReload = supportsGoWithoutReloadUsingHash();\n  var _props = props,\n      _props$getUserConfirm = _props.getUserConfirmation,\n      getUserConfirmation = _props$getUserConfirm === void 0 ? getConfirmation : _props$getUserConfirm,\n      _props$hashType = _props.hashType,\n      hashType = _props$hashType === void 0 ? 'slash' : _props$hashType;\n  var basename = props.basename ? stripTrailingSlash(addLeadingSlash(props.basename)) : '';\n  var _HashPathCoders$hashT = HashPathCoders[hashType],\n      encodePath = _HashPathCoders$hashT.encodePath,\n      decodePath = _HashPathCoders$hashT.decodePath;\n\n  function getDOMLocation() {\n    var path = decodePath(getHashPath());\n    process.env.NODE_ENV !== \"production\" ? warning(!basename || hasBasename(path, basename), 'You are attempting to use a basename on a page whose URL path does not begin ' + 'with the basename. Expected path \"' + path + '\" to begin with \"' + basename + '\".') : void 0;\n    if (basename) path = stripBasename(path, basename);\n    return createLocation(path);\n  }\n\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = globalHistory.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  var forceNextPop = false;\n  var ignorePath = null;\n\n  function locationsAreEqual$$1(a, b) {\n    return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash;\n  }\n\n  function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = encodePath(path);\n\n    if (path !== encodedPath) {\n      // Ensure we always have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var location = getDOMLocation();\n      var prevLocation = history.location;\n      if (!forceNextPop && locationsAreEqual$$1(prevLocation, location)) return; // A hashchange doesn't always == location change.\n\n      if (ignorePath === createPath(location)) return; // Ignore this change; we already setState in push/replace.\n\n      ignorePath = null;\n      handlePop(location);\n    }\n  }\n\n  function handlePop(location) {\n    if (forceNextPop) {\n      forceNextPop = false;\n      setState();\n    } else {\n      var action = 'POP';\n      transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n        if (ok) {\n          setState({\n            action: action,\n            location: location\n          });\n        } else {\n          revertPop(location);\n        }\n      });\n    }\n  }\n\n  function revertPop(fromLocation) {\n    var toLocation = history.location; // TODO: We could probably make this more reliable by\n    // keeping a list of paths we've seen in sessionStorage.\n    // Instead, we just default to 0 for paths we don't know.\n\n    var toIndex = allPaths.lastIndexOf(createPath(toLocation));\n    if (toIndex === -1) toIndex = 0;\n    var fromIndex = allPaths.lastIndexOf(createPath(fromLocation));\n    if (fromIndex === -1) fromIndex = 0;\n    var delta = toIndex - fromIndex;\n\n    if (delta) {\n      forceNextPop = true;\n      go(delta);\n    }\n  } // Ensure the hash is encoded properly before doing anything else.\n\n\n  var path = getHashPath();\n  var encodedPath = encodePath(path);\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n  var initialLocation = getDOMLocation();\n  var allPaths = [createPath(initialLocation)]; // Public interface\n\n  function createHref(location) {\n    return '#' + encodePath(basename + createPath(location));\n  }\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot push state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a PUSH, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        pushHashPath(encodedPath);\n        var prevIndex = allPaths.lastIndexOf(createPath(history.location));\n        var nextPaths = allPaths.slice(0, prevIndex + 1);\n        nextPaths.push(path);\n        allPaths = nextPaths;\n        setState({\n          action: action,\n          location: location\n        });\n      } else {\n        process.env.NODE_ENV !== \"production\" ? warning(false, 'Hash history cannot PUSH the same path; a new entry will not be added to the history stack') : void 0;\n        setState();\n      }\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(state === undefined, 'Hash history cannot replace state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, undefined, undefined, history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var path = createPath(location);\n      var encodedPath = encodePath(basename + path);\n      var hashChanged = getHashPath() !== encodedPath;\n\n      if (hashChanged) {\n        // We cannot tell if a hashchange was caused by a REPLACE, so we'd\n        // rather setState here and ignore the hashchange. The caveat here\n        // is that other hash histories in the page will consider it a POP.\n        ignorePath = path;\n        replaceHashPath(encodedPath);\n      }\n\n      var prevIndex = allPaths.indexOf(createPath(history.location));\n      if (prevIndex !== -1) allPaths[prevIndex] = path;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    process.env.NODE_ENV !== \"production\" ? warning(canGoWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n    globalHistory.go(n);\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  var listenerCount = 0;\n\n  function checkDOMListeners(delta) {\n    listenerCount += delta;\n\n    if (listenerCount === 1 && delta === 1) {\n      window.addEventListener(HashChangeEvent$1, handleHashChange);\n    } else if (listenerCount === 0) {\n      window.removeEventListener(HashChangeEvent$1, handleHashChange);\n    }\n  }\n\n  var isBlocked = false;\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    var unblock = transitionManager.setPrompt(prompt);\n\n    if (!isBlocked) {\n      checkDOMListeners(1);\n      isBlocked = true;\n    }\n\n    return function () {\n      if (isBlocked) {\n        isBlocked = false;\n        checkDOMListeners(-1);\n      }\n\n      return unblock();\n    };\n  }\n\n  function listen(listener) {\n    var unlisten = transitionManager.appendListener(listener);\n    checkDOMListeners(1);\n    return function () {\n      checkDOMListeners(-1);\n      unlisten();\n    };\n  }\n\n  var history = {\n    length: globalHistory.length,\n    action: 'POP',\n    location: initialLocation,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nfunction clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n}\n/**\n * Creates a history object that stores locations in memory.\n */\n\n\nfunction createMemoryHistory(props) {\n  if (props === void 0) {\n    props = {};\n  }\n\n  var _props = props,\n      getUserConfirmation = _props.getUserConfirmation,\n      _props$initialEntries = _props.initialEntries,\n      initialEntries = _props$initialEntries === void 0 ? ['/'] : _props$initialEntries,\n      _props$initialIndex = _props.initialIndex,\n      initialIndex = _props$initialIndex === void 0 ? 0 : _props$initialIndex,\n      _props$keyLength = _props.keyLength,\n      keyLength = _props$keyLength === void 0 ? 6 : _props$keyLength;\n  var transitionManager = createTransitionManager();\n\n  function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n    transitionManager.notifyListeners(history.location, history.action);\n  }\n\n  function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  }\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? createLocation(entry, undefined, createKey()) : createLocation(entry, undefined, entry.key || createKey());\n  }); // Public interface\n\n  var createHref = createPath;\n\n  function push(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'PUSH';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n      var nextEntries = history.entries.slice(0);\n\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  }\n\n  function replace(path, state) {\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof path === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored') : void 0;\n    var action = 'REPLACE';\n    var location = createLocation(path, state, createKey(), history.location);\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n      history.entries[history.index] = location;\n      setState({\n        action: action,\n        location: location\n      });\n    });\n  }\n\n  function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  }\n\n  function block(prompt) {\n    if (prompt === void 0) {\n      prompt = false;\n    }\n\n    return transitionManager.setPrompt(prompt);\n  }\n\n  function listen(listener) {\n    return transitionManager.appendListener(listener);\n  }\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n  return history;\n}\n\nexport { createBrowserHistory, createHashHistory, createMemoryHistory, createLocation, locationsAreEqual, parsePath, createPath };\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/history/esm/history.js","import { createElement, Component } from 'react';\nimport classNames from 'classnames';\nimport { Location, LocationDescriptor } from 'history';\nimport navigator from '../navigator';\nimport Route from './route';\nimport Link from './link';\nimport { MatchResult } from './utils';\n\n/**\n * A <Link> wrapper that knows if it's \"active\" or not.\n */\nexport interface NavLinkProps {\n  to: LocationDescriptor;\n  exact?: boolean;\n  strict?: boolean;\n  activeClassName?: string;\n  className?: string;\n  activeStyle?: object;\n  style?: object;\n  isActive?: (match: MatchResult, location: Location) => boolean;\n  [rest: string]: any;\n}\n\nclass NavLink extends Component<NavLinkProps> {\n  static displayName = 'NavLink';\n\n  static defaultProps = {\n    activeClassName: 'active',\n  };\n\n  render() {\n    const {\n      to, exact, strict, isActive,\n      className, style,\n      activeClassName, activeStyle,\n      ...rest\n    } = this.props;\n    const path = typeof to === 'object' ? to.pathname : to;\n    const { location } = navigator.history!;\n\n    return createElement(Route, {\n      path: path || '',\n      exact,\n      strict,\n      children({ match }: any) {\n        const actived = !!(isActive ? isActive(match, location) : match);\n\n        return createElement(Link, {\n          to,\n          className: classNames(className, actived && activeClassName),\n          style: actived ? { ...style, ...activeStyle } : style,\n          ...rest,\n        });\n      }\n    });\n  }\n}\n\nexport default NavLink;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/nav-link.ts","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/classnames/index.js","import { Component, createElement, StatelessComponent } from 'react';\nimport navigator from '../navigator';\nimport { matchPath, MatchResult, locationIs } from './utils';\nimport RouteContext from './route-context';\nimport { RouteConfig } from './index';\n\nexport interface RouteProps {\n  computedMatch?: MatchResult;\n  path: string;\n  exact?: boolean;\n  strict?: boolean;\n  sensitive?: boolean;\n  children: StatelessComponent<any>;\n  defined?: RouteConfig;\n}\n\nfunction computeMatch(props: RouteProps, ctx: RouteContext) {\n  const { computedMatch, path, strict, exact, sensitive } = props;\n\n  if (computedMatch) return computedMatch; // maybe already computed the match for us\n\n  const { pathname } = navigator.history!.location;\n\n  return matchPath(pathname, { path, strict, exact, sensitive }, ctx.match);\n}\n\nexport default class Route extends Component<RouteProps> {\n  static displayName = 'Route';\n  private dispose: () => void;\n  private location: any;\n\n  constructor(props: RouteProps) {\n    super(props);\n\n    const history = navigator.history!;\n    this.location = history.location;\n    this.dispose = history.listen(() => {\n      if (!locationIs(this.location, history.location)) {\n        this.forceUpdate();\n      }\n      this.location = history.location;\n    });\n  }\n\n  componentWillUnmount() {\n    this.dispose();\n  }\n\n  render() {\n    const { children } = this.props;\n\n    return createElement(RouteContext.Consumer, null, (ctx: RouteContext) => {\n      this.location = ctx.location;\n      const match = computeMatch(this.props, ctx);\n      return children({ match });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/route.ts","import { Component } from 'react';\nimport { LocationDescriptor } from 'history';\nimport navigator from '../navigator';\nimport { generatePath, MatchResult } from './utils';\n\nexport interface RedirectProps {\n  computedMatch?: MatchResult;\n  push?: boolean;\n  to: LocationDescriptor;\n}\n\n/**\n * The public API for updating the location programmatically\n * with a component.\n */\nclass Redirect extends Component<RedirectProps> {\n  static defaultProps = {\n    push: false\n  };\n\n  componentDidMount() {\n    this.perform();\n  }\n\n  computeTo({ computedMatch, to }: RedirectProps) {\n    if (computedMatch) {\n      if (typeof to === 'string') {\n        return generatePath(to, computedMatch.params);\n      } else {\n        return {\n          ...to,\n          pathname: generatePath(to.pathname, computedMatch.params)\n        };\n      }\n    }\n\n    return to;\n  }\n\n  perform() {\n    const history = navigator.history!;\n    const to = this.computeTo(this.props);\n\n    if (this.props.push) {\n      history.push(to as any);\n    } else {\n      history.replace(to as any);\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Redirect;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/redirect.ts","export const prerendering: boolean = (window as any).__PRERENDER_INJECTED ? true : false;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/prerendering.ts","declare const VERSION: string;\n\nconst version: string = VERSION;\n\nif (process.env.NODE_ENV !== 'test') {\n  if (process.env.NODE_ENV !== 'production') {\n    // tslint:disable-next-line\n    console.log(`%cRecore %cv${version} %cdevelopment`, 'color:#000;font-weight:bold;', 'color:green;font-weight:bold;', 'color:orange;font-weight:bold;');\n  } else {\n    // tslint:disable-next-line\n    console.log(`%cRecore %cv${version} `, 'color:#000;font-weight:bold;', 'color:green;font-weight:bold;');\n  }\n}\n\nexport * from './core';\nexport * from './obx';\nexport * from './lib';\nexport { version };\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","export * from './view-controller';\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/index.ts","import { Fragment, ReactNode, Component, ReactType, createElement } from \"react\";\nimport { nextId } from \"../obx/utils\";\nimport { Reaction } from \"../obx/reaction\";\nimport { nextTick, obx, getReaction } from \"../obx\";\nimport { hasOwnProperty } from \"../utils\";\nimport { create } from \"../lib\";\nimport X, { DisplayError, isDisplayError } from \"../lib/x\";\nimport View from \"./view\";\nimport { splitPath } from \"../utils/split-path\";\n\nexport interface AreaConfig {\n  id?: string;\n  virtual?: boolean;\n}\n\nexport interface CursorData {\n  $id: string;\n  $each: any;\n  [key: string]: any;\n}\n\nexport interface Scope {\n  readonly $top: Scope;\n  readonly $super?: Scope;\n  [property: string]: any;\n}\n\nexport default class Area {\n  readonly id: string;\n  readonly virtual: boolean;\n  readonly inExpression: boolean;\n  private areasMap: { [name: string]: Area } = {};\n  private areas: Area[] = [];\n  private areaInstance?: Component;\n  private reaction?: Reaction;\n\n  constructor(public scope: Scope, { id, virtual }: AreaConfig, private parent?: Area) {\n    this.inExpression = !id;\n    this.id = id || nextId();\n    this.virtual = virtual === true;\n  }\n\n  get(path: string): Area | null {\n    const pathArray = splitPath(path);\n\n    if (!pathArray) {\n      return null;\n    }\n\n    const entry = pathArray[1];\n    const nestPath = pathArray[2];\n\n    if (!entry) {\n      return this.get(nestPath);\n    }\n\n    const ret = this.areasMap[entry];\n\n    if (!nestPath || ret == null) {\n      return ret;\n    }\n\n    return ret.get(nestPath);\n  }\n\n  getView(id: string): View | null {\n    return this.views[id] || null;\n  }\n\n  render(getChildren: (area: Area) => ReactNode[]) {\n    return renderArea(this, () => create(Fragment, null, getChildren(this)));\n  }\n\n  flow(...flows: Array<[true | ((area: Area) => any), (area: Area) => ReactNode]>): ReactNode {\n    const l = flows.length;\n    for (let i = 0; i < l; i++) {\n      const [test, render] = flows[i];\n      const result = test === true || test(this);\n      if (isDisplayError(result)) {\n        return result;\n      }\n      if (result) {\n        return render(this);\n      }\n    }\n    return null;\n  }\n\n  loop(id: string | undefined, getLoopData: (area: Area) => any, delegate: () => ReactNode, virtual: boolean = false): ReactNode {\n    return this.area(id, (area) => {\n      const data = getLoopData(area);\n      if (isDisplayError(data)) {\n        return data;\n      }\n      return loop(data, delegate.bind(null, area));\n    }, virtual);\n  }\n\n  private views: { [id: string]: View } = {};\n  view(xid: string, getProps?: (scope: object, area: Area) => any[], getChildren?: (area: Area) => ReactNode[], getSlots?: (area: Area) => { [slot: string]: ReactNode }): ReactNode {\n    const m = RE_XID.exec(xid);\n    if (!m) {\n      return null;\n    }\n    const [_, areaid, tagName, id] = m;\n    if (areaid) {\n      return this.area(areaid, (area) => area.view(`${tagName}#${id}`, getProps, getChildren, getSlots));\n    }\n    const component = this.scope.$registry.get(tagName);\n    let view: View;\n    if (id && hasOwnProperty(this.views, id)) {\n      view = this.views[id]!;\n    } else {\n      view = new View(this, id, component, getProps, getSlots);\n      if (id) {\n        this.views[id] = view;\n      }\n    }\n\n    return tryRender(() => {\n      const props = { ...view.props };\n      return create(component, props, getChildren ? getChildren(this) : undefined);\n    });\n  }\n\n  create(component: ReactType, props: any, children?: any) {\n    return create(component, props, children)\n  }\n\n  router(id: string, getProps?: (scope: object) => any[]) {\n    return this.scope.__routerView(getProps ? getProps(this.scope) : undefined);\n  }\n\n  private exprs: { [id: string]: { readonly value: any } } = {};\n  /**\n   * TODO:will unsupport id=undefined\n   */\n  expr(id: string | undefined, getExpr: (scope: object, area: Area) => any): any {\n    const scope = this.scope;\n    const area = this;\n    if (!id) {\n      return tryRender(() => getExpr(scope, area));\n    }\n    if (hasOwnProperty(this.exprs, id)) {\n      return this.exprs[id].value;\n    }\n\n    // eg. ($scope) => $scope._('abc')\n    const e = obx.val({\n      get value() {\n        return tryRender(() => getExpr(scope, area));\n      }\n    });\n    this.exprs[id] = e;\n    return e.value;\n  }\n\n  /**\n   * TODO:will unsupport id=undefined\n   */\n  area(id: string | undefined, render: (area: Area) => ReactNode, virtual: boolean = false) {\n    return renderArea(this.child({ id, virtual }), render);\n  }\n\n  fork(data: CursorData, render: (area: Area) => ReactNode) {\n    return tryRender(() => renderArea(this.produce(data), render));\n  }\n\n  // TODO: will support in 1.5.1\n  tpl(id: string, getProps: (scope: any) => any[], render: (area: Area) => ReactNode, virtual: boolean = false) {\n\n  }\n\n  private child(config: AreaConfig): Area {\n    if (config.id === this.id) {\n      return this;\n    }\n\n    if (!config.id) {\n      return new Area(this.scope, config, this);\n    }\n\n    if (hasOwnProperty(this.areasMap, config.id)) {\n      return this.areasMap[config.id]!;\n    }\n\n    const area = new Area(this.scope, config, this);\n\n    this.areas.push(area);\n    this.areasMap[area.id] = area;\n\n    return area;\n  }\n\n  willSleep: boolean = false;\n  private dispose() {\n    let i = this.areas.length;\n    while (i-- > 0) {\n      const area = this.areas[i];\n      if (area.willSleep) {\n        area.purge();\n        delete this.areasMap[area.id];\n        this.areas.splice(i, 1);\n      }\n    }\n  }\n\n  private marked: boolean = false;\n  private produce(data: CursorData) {\n    const id = data.$id;\n    if (!this.marked) {\n      this.marked = true;\n      this.areas.forEach(item => {\n        item.willSleep = true;\n      });\n      nextTick(() => {\n        this.marked = false;\n        this.dispose();\n      });\n    }\n\n    let area: Area;\n    if (hasOwnProperty(this.areasMap, id)) {\n      area = this.areasMap[id]!;\n      if (area.scope.$each === data.$each) {\n        area.willSleep = false;\n        return area;\n      }\n    }\n\n    const scope = this.scope._derive(data);\n    area = new Area(scope, {\n      id,\n      virtual: this.virtual,\n    }, this);\n    this.areas.push(area);\n    this.areasMap[id] = area;\n\n    return area;\n  }\n\n  private purged = false;\n  purge() {\n    if (this.purged) {\n      return;\n    }\n    this.purged = true;\n    if (this.reaction) {\n      this.reaction.sleep();\n    }\n    this.areas.forEach(area => area.purge());\n    this.areas = [];\n    this.areasMap = {};\n  }\n\n  connect(areaInstance?: Component) {\n    this.areaInstance = areaInstance;\n    this.reaction = areaInstance ? getReaction(areaInstance) : undefined;\n  }\n\n  runImmediately() {\n    if (this.virtual) {\n      if (this.parent) {\n        this.parent.runImmediately();\n      }\n      return;\n    }\n    if (this.reaction) {\n      this.reaction.runReaction();\n    }\n  }\n\n  forceUpdate() {\n    if (this.areaInstance) {\n      this.areaInstance.forceUpdate();\n    }\n  }\n}\n\nconst RE_XID = /^(?:@([\\w\\-]+):)?([\\w]+)(?:#([\\w\\-]+))?/;\n\nfunction tryRender(render: () => any): any {\n  try {\n    return render();\n  } catch (e) {\n    return create(DisplayError, { error: e });\n  }\n}\n\nfunction iterMap(data: Map<any, any>, fn: (item: any, key: any) => void) {\n  data.forEach(fn);\n}\n\nfunction iterSet(data: Set<any>, fn: (item: any, key: any) => void) {\n  let index = 0;\n  data.forEach((item) => {\n    fn(item, index++);\n  });\n}\n\nfunction loop(data: any, delegate: (key: string | number, val: any) => any) {\n  if (Array.isArray(data)) {\n    return data.map((item, index) => delegate(index, item));\n  }\n\n  if (typeof data === 'number') {\n    const ret = new Array(data);\n    for (let i = 0; i < data; i++) {\n      ret[i] = delegate(i, i + 1);\n    }\n    return ret;\n  }\n\n  if (data) {\n    if ((data instanceof Set) || (data instanceof Map)) {\n      const frags: any[] = [];\n\n      const fn = (item: any, key: any): void => {\n        frags.push(delegate(key, item));\n      };\n      data instanceof Map ? iterMap(data, fn) : iterSet(data, fn);\n\n      return frags;\n    }\n\n    return Object.keys(data).map((key) => {\n      return delegate(key, (data as any)[key]);\n    });\n  }\n\n  return null;\n}\n\nfunction renderArea(area: any, render: (area: any) => ReactNode) {\n  if (area.virtual) {\n    return render(area);\n  }\n\n  return createElement(X, {\n    key: area.id,\n    area,\n    children: render,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/area.ts","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","import { getProxiedValue } from './proxy';\n\nexport function is(a: any, b: any) {\n  return getProxiedValue(a) === getProxiedValue(b);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/compare.ts","import { DecoratorTarget } from \"../decorators\";\nimport Obx from \"./obx\";\n\nexport default class ObxInstance extends Obx<DecoratorTarget> {\n  set(key: PropertyKey, val: any) {\n    const target = this.target;\n    if (key in target) {\n      (target as any)[key] = val;\n      return;\n    }\n\n    super.set(key, val);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx-instance.ts","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/assertThisInitialized.js","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/superPropBase.js","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/setPrototypeOf.js","import { addHiddenProp } from '../utils';\nimport { observeIterable, reportChildValue } from './observable';\nimport { supportProxy, isProxied, createProxy, SYMBOL_PROXY, SYMBOL_RAW, getProxiedValue, getRawValue } from './proxy';\nimport Obx, { getObx, SYMBOL_OBX, ObxFlag } from './obx';\nimport { setPrototypeOf } from '../../utils/set-prototype-of';\n\nexport function childFlag(flag: ObxFlag) {\n  return flag === ObxFlag.DEEP ? ObxFlag.DEEP : ObxFlag.VAL;\n}\n\nfunction isValidArrayIndex(val: any, limit: number = -1): boolean {\n  const n = parseFloat(String(val));\n  return n >= 0 && Math.floor(n) === n && isFinite(val) && (limit < 0 || n < limit);\n}\n\nexport default class ObxArray extends Obx<any[]> {\n  constructor(name: string, target: any[], obxFlag: ObxFlag = ObxFlag.DEEP) {\n    super(name, target, obxFlag);\n\n    if (supportProxy) {\n      this.target = createProxy(target, arrayProxyTraps);\n    } else if (obxFlag > ObxFlag.VAL) {\n      observeIterable(target, childFlag(obxFlag));\n    }\n    setPrototypeOf(target, arrayMethods);\n  }\n\n  set(key: PropertyKey, val: any) {\n    const target = this.target;\n    if (isValidArrayIndex(key)) {\n      const index = Number(key);\n      target.length = Math.max(target.length, index);\n      target.splice(index, 1, val);\n      return;\n    }\n    super.set(key, val);\n  }\n\n  del(key: PropertyKey) {\n    if (isValidArrayIndex(key, this.target.length)) {\n      this.target.splice(Number(key), 1);\n      return;\n    }\n    super.del(key);\n  }\n}\n\n// ======= patches ========\nconst arrayProto = Array.prototype;\nconst arrayMethods = Object.create(arrayProto);\n\n[\n  'push', 'pop', 'shift', 'unshift',\n  'splice', 'sort', 'reverse',\n].forEach((method) => {\n  const original = (arrayProto as any)[method];\n  addHiddenProp(arrayMethods, method, function mutator(this: any[], ...args: any[]) {\n    const obx = getObx(this) as ObxArray;\n    const proxied = isProxied(this);\n    const length = this.length;\n    // apply to rawTarget avoid to call Proxy.set\n    const result = original.apply(getRawValue(this), args);\n\n    let changed = true;\n    let inserted;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        changed = inserted.length > 0;\n        break;\n      case 'splice':\n        inserted = args.slice(2);\n        changed = inserted.length > 0 || this.length !== length;\n        break;\n      case 'pop': case 'shift':\n        changed = this.length !== length;\n        break;\n    }\n    if (!proxied && obx.obxFlag > ObxFlag.VAL) {\n      if (inserted && inserted.length > 0) {\n        observeIterable(inserted, childFlag(obx.obxFlag));\n      }\n    }\n\n    if (obx && changed) {\n      obx.reportChange();\n    }\n    return result;\n  });\n});\n\nconst arrayProxyTraps: ProxyHandler<any[]> = {\n  has(rawTarget, name: PropertyKey) {\n    if (name === SYMBOL_OBX || name === SYMBOL_RAW) {\n      return true;\n    }\n    return name in rawTarget;\n  },\n  get(rawTarget, name: PropertyKey) {\n    if (name === SYMBOL_RAW) {\n      return rawTarget;\n    }\n    if (name === SYMBOL_OBX || name === SYMBOL_PROXY || (name in arrayMethods)) {\n      return (rawTarget as any)[name];\n    }\n\n    if (isValidArrayIndex(name)) {\n      const v = rawTarget[Number(name)];\n      const obx = getObx(rawTarget);\n      if (obx) {\n        reportChildValue(v, obx.obxFlag);\n      }\n      return getProxiedValue(v);\n    }\n\n    return getProxiedValue((rawTarget as any)[name]);\n  },\n  set(rawTarget, name: PropertyKey, value: any) {\n    if (name === 'length') {\n      rawTarget[name] = value;\n      return true;\n    }\n    if (name === SYMBOL_OBX || name === SYMBOL_PROXY || (name in arrayMethods)) {\n      return false;\n    }\n\n    if (isValidArrayIndex(name)) {\n      const index = Number(name);\n      rawTarget.length = Math.max(rawTarget.length, index);\n      rawTarget.splice(index, 1, value);\n      return true;\n    }\n\n    (rawTarget as any)[name] = value;\n    return true;\n  },\n  deleteProperty(rawTarget, name: PropertyKey) {\n    if (name === SYMBOL_OBX || name === SYMBOL_PROXY || (name in arrayMethods)) {\n      return false;\n    }\n\n    if (isValidArrayIndex(name)) {\n      rawTarget.splice(Number(name), 1);\n      return true;\n    }\n\n    delete (rawTarget as any)[name];\n    return true;\n  },\n  preventExtensions() {\n    return false;\n  },\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx-array.ts","import { walk } from '../utils';\nimport { supportProxy, createProxy, getProxiedValue, SYMBOL_PROXY, SYMBOL_RAW } from './proxy';\nimport Obx, { getObx, SYMBOL_OBX, ObxFlag } from './obx';\nimport { defineObxProperty, ensureObxProperty } from './obx-property';\nimport { hasOwnProperty } from '../../utils/has-own-property';\n\nfunction propFlag(flag: ObxFlag) {\n  return flag === ObxFlag.DEEP ? ObxFlag.DEEP : (flag - 1);\n}\n\nexport default class ObxObject extends Obx<object> {\n  constructor(name: string, target: object, obxFlag: ObxFlag = ObxFlag.DEEP) {\n    super(name, target, obxFlag);\n\n    if (supportProxy) {\n      this.target = createProxy(target, objectProxyTraps);\n    } else if (obxFlag > ObxFlag.REF) {\n      walk(target as any, (obj, key, val) => {\n        defineObxProperty(\n          obj, key, val, undefined,\n          propFlag(obxFlag),\n        );\n      });\n    }\n  }\n\n  set(key: PropertyKey, val: any) {\n    const target = this.target;\n    if (key in target && !(key in objectProto)) {\n      (target as any)[key] = val;\n      return;\n    }\n\n    super.set(key, val);\n  }\n}\n\n\nconst objectProto = Object.prototype;\n\nconst objectProxyTraps: ProxyHandler<any> = {\n  has(rawTarget, name: PropertyKey) {\n    if (name === SYMBOL_OBX || name === SYMBOL_RAW) {\n      return true;\n    }\n    return name in rawTarget;\n  },\n  get(rawTarget, name: PropertyKey) {\n    if (name === SYMBOL_RAW) {\n      return rawTarget;\n    }\n    if (name === SYMBOL_OBX || name === SYMBOL_PROXY || (name in objectProto)) {\n      return rawTarget[name];\n    }\n\n    if (hasOwnProperty(rawTarget, name)) {\n      const obx = getObx(rawTarget);\n      if (obx) {\n        ensureObxProperty(\n          rawTarget, name,\n          propFlag(obx.obxFlag),\n        );\n      }\n    }\n\n    return getProxiedValue(rawTarget[name]);\n  },\n  set(rawTarget, name: PropertyKey, value: any) {\n    if (name === SYMBOL_OBX || name === SYMBOL_PROXY || (name in objectProto)) {\n      return false;\n    }\n\n    if (!hasOwnProperty(rawTarget, name)) {\n      const obx = getObx(rawTarget);\n      if (obx) {\n        defineObxProperty(rawTarget, name, value, undefined, propFlag(obx.obxFlag));\n        obx.reportChange();\n        return true;\n      }\n    }\n\n    rawTarget[name] = value;\n    return true;\n  },\n  deleteProperty(rawTarget, name: PropertyKey) {\n    if (name === SYMBOL_OBX || name === SYMBOL_PROXY || !hasOwnProperty(rawTarget, name)) {\n      return false;\n    }\n\n    delete rawTarget[name];\n    const obx = getObx(rawTarget);\n    if (obx) {\n      obx.reportChange();\n    }\n    return true;\n  },\n  preventExtensions() {\n    return false;\n  },\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx-object.ts","import Obx, { ObxFlag } from './obx';\nimport { patchMutator, patchAccessor } from './obx-set';\nimport { setPrototypeOf } from '../../utils/set-prototype-of';\n\ntype MapType = Map<PropertyKey, any>;\n\nexport default class ObxMap extends Obx<MapType> {\n  constructor(name: string, target: MapType, obxFlag: ObxFlag = ObxFlag.DEEP) {\n    super(name, target, obxFlag);\n\n    setPrototypeOf(target, mapMethods);\n  }\n\n  has(key: PropertyKey) {\n    return this.target.has(key);\n  }\n\n  set(key: PropertyKey, val: any) {\n    this.target.set(key, val);\n  }\n\n  get(key: PropertyKey) {\n    return this.target.get(key);\n  }\n\n  del(key: PropertyKey) {\n    this.target.delete(key);\n  }\n}\n\n// ======= Map ========\nconst mapProto = Map.prototype;\nconst mapMethods = Object.create(mapProto);\n\npatchMutator(['set', 'clear', 'delete'], mapProto, mapMethods);\n\npatchAccessor(['values', 'entries', Symbol.iterator, 'forEach', 'get'], mapProto, mapMethods);\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observable/obx-map.ts","import { Component, FunctionComponent, ComponentType } from 'react';\nimport { Reaction } from './reaction';\nimport { shallowEqual } from '../utils';\n\nconst SYMBOL_REACTION = Symbol('__obxReaction');\nconst SYMBOL_ISUNMOUNTED = Symbol('__obxIsUnmounted');\n\n/**\n * ReactiveMixin\n */\nfunction defaultComponentWillUnmount(this: any) {\n  this.render[SYMBOL_REACTION] && this.render[SYMBOL_REACTION].sleep();\n  this[SYMBOL_ISUNMOUNTED] = true;\n}\n\nfunction defaultShouldComponentUpdate(this: any, nextProps: any, nextState: any) {\n  if (this.state !== nextState) {\n    return true;\n  }\n  return !shallowEqual(this.props, nextProps);\n}\n\nfunction shouldConstruct(C: any) {\n  const prototype = C.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction isFunctionComponent<T = any>(type: Function): type is FunctionComponent<T> {\n  return !shouldConstruct(type);\n}\n\nexport function getReaction(target: Component): Reaction | undefined {\n  return (target.render as any)[SYMBOL_REACTION];\n}\n\n/**\n * Observer function / decorator\n */\nexport function observer<T extends ComponentType<any>>(target: T): T {\n  if (!target) {\n    throw new Error('Please pass a valid component to \"observer\"');\n  }\n  if (typeof target !== 'function') {\n    throw new Error(\n      'obx observer: needs to be a react class constructor or stateless function components'\n    );\n  }\n\n  let componentClass: any = target;\n\n  if (isFunctionComponent(target)) {\n    componentClass = class extends Component {\n      static displayName = componentClass.displayName || componentClass.name;\n      static contextTypes = componentClass.contextTypes;\n      static propTypes = componentClass.propTypes;\n      static defaultProps = componentClass.defaultProps;\n\n      render() {\n        return target.call(this, this.props, this.context);\n      }\n    };\n  }\n\n  const proto = componentClass.prototype || componentClass;\n  mixinLifecycleEvents(proto);\n  componentClass.isObxReactObserver = true;\n  const baseRender = proto.render;\n  proto.render = function () {\n    return makeComponentReactive.call(this, baseRender);\n  };\n  return componentClass;\n}\n\nfunction makeComponentReactive(this: any, render: any) {\n  function reactiveRender() {\n    isRenderingPending = false;\n    let exception = undefined;\n    let rendering = undefined;\n    reaction.track(() => {\n      try {\n        rendering = baseRender();\n      } catch (e) {\n        exception = e;\n      }\n    });\n    if (exception) {\n      throw exception;\n    }\n    return rendering || baseRender();\n  }\n\n  // Generate friendly name for debugging\n  const initialName =\n    this.displayName ||\n    this.name ||\n    (this.constructor &&\n      (this.constructor.displayName || this.constructor.name)) ||\n    \"<component>\";\n\n  const rootNodeID = this._reactInternalFiber && this._reactInternalFiber._debugID || '*';\n\n  // wire up reactive render\n  const baseRender = render.bind(this);\n  let isRenderingPending = false;\n  const reaction = new Reaction(`${initialName}#${rootNodeID}.render()`, () => {\n    if (!isRenderingPending) {\n      isRenderingPending = true;\n      if (typeof this.componentWillReact === 'function') {\n        this.componentWillReact();\n      }\n      if (this[SYMBOL_ISUNMOUNTED] !== true) {\n        let hasError = true;\n        try {\n          Component.prototype.forceUpdate.call(this);\n          hasError = false;\n        } finally {\n          if (hasError) reaction.sleep();\n        }\n      }\n    }\n  }, this.$level || 0);\n\n  (reactiveRender as any)[SYMBOL_REACTION] = reaction;\n  this.render = reactiveRender;\n  return reactiveRender.call(this);\n}\n\nfunction mixinLifecycleEvents(target: any) {\n  if (!target.componentWillUnmount) {\n    target.componentWillUnmount = defaultComponentWillUnmount;\n  } else {\n    const originFunc = target.componentWillUnmount;\n    target.componentWillUnmount = function(this: any) {\n      originFunc.call(this);\n      defaultComponentWillUnmount.call(this);\n    };\n  }\n\n  if (!target.shouldComponentUpdate) {\n    target.shouldComponentUpdate = defaultShouldComponentUpdate;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/obx/observer.ts","import { invariant } from './invariant';\n\nexport function fail(message: string, thing?: any): never {\n  invariant(false, message, thing);\n  throw 'X'; // tslint:disable-line\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/fail.ts","import { looseEqual } from './loose-equal';\n\nexport function looseIndexOf(arr: any[], val: any): number {\n  for (let i = 0, l = arr.length; i < l; i++) {\n    if (looseEqual(arr[i], val)) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/loose-index-of.ts","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/nonIterableSpread.js","module.exports = window.ReactDOM;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"window.ReactDOM\"\n// module id = 71\n// module chunks = 0","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/esm/extends.js","function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n}\n\n// About 1.5x faster than the two-arg version of Array#splice()\nfunction spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }\n\n  list.pop();\n}\n\n// This implementation is based heavily on node's url.parse\nfunction resolvePathname(to, from) {\n  if (from === undefined) from = '';\n\n  var toParts = (to && to.split('/')) || [];\n  var fromParts = (from && from.split('/')) || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) fromParts.unshift('..');\n\n  if (\n    mustEndAbs &&\n    fromParts[0] !== '' &&\n    (!fromParts[0] || !isAbsolute(fromParts[0]))\n  )\n    fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n}\n\nexport default resolvePathname;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/resolve-pathname/esm/resolve-pathname.js","function valueOf(obj) {\n  return obj.valueOf ? obj.valueOf() : Object.prototype.valueOf.call(obj);\n}\n\nfunction valueEqual(a, b) {\n  // Test for strict equality first.\n  if (a === b) return true;\n\n  // Otherwise, if either of them == null they are not equal.\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return (\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every(function(item, index) {\n        return valueEqual(item, b[index]);\n      })\n    );\n  }\n\n  if (typeof a === 'object' || typeof b === 'object') {\n    var aValue = valueOf(a);\n    var bValue = valueOf(b);\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    return Object.keys(Object.assign({}, a, b)).every(function(key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n}\n\nexport default valueEqual;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/value-equal/esm/value-equal.js","var isProduction = process.env.NODE_ENV === 'production';\nfunction warning(condition, message) {\n  if (!isProduction) {\n    if (condition) {\n      return;\n    }\n\n    var text = \"Warning: \" + message;\n\n    if (typeof console !== 'undefined') {\n      console.warn(text);\n    }\n\n    try {\n      throw Error(text);\n    } catch (x) {}\n  }\n}\n\nexport default warning;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tiny-warning/dist/tiny-warning.esm.js","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n  if (condition) {\n    return;\n  }\n\n  if (isProduction) {\n    throw new Error(prefix);\n  } else {\n    throw new Error(prefix + \": \" + (message || ''));\n  }\n}\n\nexport default invariant;\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tiny-invariant/dist/tiny-invariant.esm.js","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || nonIterableRest();\n}\n\nmodule.exports = _toArray;\n\n\n// WEBPACK FOOTER //\n// ./node_modules/@babel/runtime/helpers/toArray.js","/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * Default configs.\n */\nvar DEFAULT_DELIMITER = '/'\nvar DEFAULT_DELIMITERS = './'\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \":test(\\\\d+)?\" => [\"test\", \"\\d+\", undefined, \"?\"]\n  // \"(\\\\d+)\"  => [undefined, undefined, \"\\d+\", undefined]\n  '(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = (options && options.delimiter) || DEFAULT_DELIMITER\n  var delimiters = (options && options.delimiters) || DEFAULT_DELIMITERS\n  var pathEscaped = false\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) !== null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      pathEscaped = true\n      continue\n    }\n\n    var prev = ''\n    var next = str[index]\n    var name = res[2]\n    var capture = res[3]\n    var group = res[4]\n    var modifier = res[5]\n\n    if (!pathEscaped && path.length) {\n      var k = path.length - 1\n\n      if (delimiters.indexOf(path[k]) > -1) {\n        prev = path[k]\n        path = path.slice(0, k)\n      }\n    }\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n      pathEscaped = false\n    }\n\n    var partial = prev !== '' && next !== undefined && next !== prev\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = prev || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prev,\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      pattern: pattern ? escapeGroup(pattern) : '[^' + escapeString(delimiter) + ']+?'\n    })\n  }\n\n  // Push any remaining characters.\n  if (path || index < str.length) {\n    tokens.push(path + str.substr(index))\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (data, options) {\n    var path = ''\n    var encode = (options && options.encode) || encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n        continue\n      }\n\n      var value = data ? data[token.name] : undefined\n      var segment\n\n      if (Array.isArray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but got array')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) continue\n\n          throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j], token)\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\"')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      if (typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean') {\n        segment = encode(String(value), token)\n\n        if (!matches[i].test(segment)) {\n          throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but got \"' + segment + '\"')\n        }\n\n        path += token.prefix + segment\n        continue\n      }\n\n      if (token.optional) {\n        // Prepend partial segment prefixes.\n        if (token.partial) path += token.prefix\n\n        continue\n      }\n\n      throw new TypeError('Expected \"' + token.name + '\" to be ' + (token.repeat ? 'an array' : 'a string'))\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$/()])/g, '\\\\$1')\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options && options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {Array=}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  if (!keys) return path\n\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        pattern: null\n      })\n    }\n  }\n\n  return path\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  return new RegExp('(?:' + parts.join('|') + ')', flags(options))\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}  tokens\n * @param  {Array=}  keys\n * @param  {Object=} options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  options = options || {}\n\n  var strict = options.strict\n  var start = options.start !== false\n  var end = options.end !== false\n  var delimiter = escapeString(options.delimiter || DEFAULT_DELIMITER)\n  var delimiters = options.delimiters || DEFAULT_DELIMITERS\n  var endsWith = [].concat(options.endsWith || []).map(escapeString).concat('$').join('|')\n  var route = start ? '^' : ''\n  var isEndDelimited = tokens.length === 0\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n      isEndDelimited = i === tokens.length - 1 && delimiters.indexOf(token[token.length - 1]) > -1\n    } else {\n      var capture = token.repeat\n        ? '(?:' + token.pattern + ')(?:' + escapeString(token.delimiter) + '(?:' + token.pattern + '))*'\n        : token.pattern\n\n      if (keys) keys.push(token)\n\n      if (token.optional) {\n        if (token.partial) {\n          route += escapeString(token.prefix) + '(' + capture + ')?'\n        } else {\n          route += '(?:' + escapeString(token.prefix) + '(' + capture + '))?'\n        }\n      } else {\n        route += escapeString(token.prefix) + '(' + capture + ')'\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += '(?:' + delimiter + ')?'\n\n    route += endsWith === '$' ? '$' : '(?=' + endsWith + ')'\n  } else {\n    if (!strict) route += '(?:' + delimiter + '(?=' + endsWith + '))?'\n    if (!isEndDelimited) route += '(?=' + delimiter + '|' + endsWith + ')'\n  }\n\n  return new RegExp(route, flags(options))\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {Array=}                keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, keys)\n  }\n\n  if (Array.isArray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), keys, options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), keys, options)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/path-to-regexp/index.js","import { Component, StatelessComponent, createElement } from 'react';\nimport navigator from '../navigator';\nimport { MatchResult, locationIs } from './utils';\nimport RouteContext from './route-context';\n\nexport interface RootProps {\n  children: StatelessComponent<any>;\n}\n\nexport default class Root extends Component<RootProps> {\n  private dispose: () => void;\n  private rootContext: RouteContext;\n  private location: any;\n\n  constructor(props: RootProps) {\n    super(props);\n\n    const history = navigator.history!;\n    this.location = history.location;\n    this.rootContext = new RouteContext(\n      new MatchResult('/', '/', this.location.pathname === '/')\n    );\n    this.dispose = history.listen(() => {\n      const { location } = history;\n      if (!locationIs(this.location, location)) {\n        this.rootContext.setMatch(new MatchResult('/', '/', location.pathname === '/'));\n        this.forceUpdate();\n      }\n      this.location = location;\n    });\n  }\n\n  componentWillUnmount() {\n    this.dispose();\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  render() {\n    const { children } = this.props;\n    const { location, match } = this.rootContext;\n\n    return createElement(RouteContext.Provider, {\n      value: this.rootContext,\n    }, children({ match, location, defined : {} }));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/root.ts","import { ReactType } from 'react';\n\nexport interface VisionXOptions {\n  components?: { [key: string]: ReactType };\n  helpers?: { [key: string]: any };\n}\n\nexport default function inject({ components, helpers }: VisionXOptions) {\n  return (ControllerType: any) => {\n    if (components) {\n      ControllerType.components = components;\n    }\n    if (helpers) {\n      ControllerType.utils = helpers;\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/inject.ts","import { resetObx } from '../obx';\n\nexport function destroy() {\n  resetObx();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/destory.ts","import { createElement as h, StatelessComponent } from 'react';\nimport { LocationDescriptor } from 'history';\nimport { ViewController } from '../../core/view-controller';\nimport compose from '../compose';\nimport { reportError } from '../utils';\nimport Loader from './loader';\nimport RouteWrapper from './route-wrapper';\nimport Router from './router';\nimport { RouteProps } from './route';\nimport Redirect from './redirect';\nimport Link from './link';\nimport NavLink from './nav-link';\nimport { resolve, matchPath } from './utils';\nimport withRouter from './with-router';\n\nexport { Router, withRouter, Link, NavLink, matchPath };\n\nexport interface RouteConfig {\n  main?: string;\n  children?: StatelessComponent<any>;\n  path: string;\n  name?: string;\n  dynamic?: boolean;\n  remote?: boolean;\n  exact?: boolean;\n  redirect?: LocationDescriptor;\n}\n\nexport interface RoutesConfig {\n  baseDir?: string;\n  exact?: boolean;\n  routes: RouteConfig[];\n  [extra: string]: any;\n}\n\nexport interface HooksConfig {\n  beforeRoute: (...rest: any[]) => any;\n  [extra: string]: any;\n}\n\nexport const RoutePage404 = ({ match, defined }: any): any => {\n  const msg = `route page \"${match.url}\" of file \"${defined.main}\" was not exists`;\n\n  reportError(msg);\n\n  if (process.env.NODE_ENV !== 'production') {\n    return `404 NotFound: ${msg}.`;\n  }\n\n  return `404 NotFound: page \"${match.url}\" was not found.`;\n};\n\nexport function createDynamicLoader(loader: any) {\n  const page: any = (props: any) => {\n    return h(Loader, {\n      loader,\n      ...props,\n    });\n  };\n\n  page.displayName = 'DynamicPage';\n\n  return page;\n}\n\ntype Hooks = HooksConfig | ((config: RoutesConfig) => HooksConfig & RoutesConfig);\n\nfunction patchBeforeRoute(beforeRoute: any) {\n  // TODO: add page stats\n  return beforeRoute;\n}\n\nexport function createRouter(\n  config: RoutesConfig, pagesMap: any,\n  hooks: Hooks,\n  page?: true | ViewController\n) {\n  if (hooks) {\n    if (typeof hooks === 'function') {\n      // TODO support thenable return\n      config = hooks(config) || config;\n    } else {\n      config = {\n        ...config,\n        ...hooks,\n      };\n    }\n  }\n\n  const { exact = false, baseDir, beforeRoute } = config;\n\n  let normalizedRoutes: RouteProps[] | null = null;\n  let normalized = false;\n  function getRoutes() {\n    if (normalized) {\n      return normalizedRoutes;\n    }\n    normalized = true;\n    if (!config.routes) {\n      return normalizedRoutes;\n    }\n\n    const patchedBeforeRoute = patchBeforeRoute(beforeRoute);\n\n    // normalize routes\n    normalizedRoutes = config.routes.map((route) => {\n      const ret: any = {\n        defined: route,\n        path: route.path,\n        exact: route.exact != null ? route.exact : exact,\n      };\n\n      if (route.children) {\n        ret.children = route.children;\n        return ret;\n      }\n\n      if (route.redirect) {\n        ret.children = ({ match }: any) => h(Redirect, {\n          computedMatch: match,\n          to: route.redirect!\n        });\n        return ret;\n      }\n\n      let Component: any;\n      if (route.main) {\n        const key = resolve(route.main, baseDir);\n        Component = pagesMap[key];\n      } else {\n        Component = () => null;\n      }\n\n      if (!patchedBeforeRoute) {\n        ret.children = (props: any) => h(Component, props);\n      } else {\n        ret.children = (props: any) => h(RouteWrapper, {\n          ...props,\n          beforeRoute: patchedBeforeRoute,\n          Component,\n        });\n      }\n      return ret;\n    }).filter<RouteProps>(Boolean as any);\n\n    return normalizedRoutes;\n  }\n\n  function factory(parentController: any, props?: any) {\n    const routes = getRoutes();\n    return routes ? h(Router, {\n      ...props,\n      parentController,\n      routes,\n      fixed: true,\n    }) : null;\n  }\n\n  if (page) {\n    function ViewRender(controller: any) {\n      return controller.$root.render((area: any) => area.router('main'));\n    }\n    (ViewRender as any).compileVersion = 2;\n    return compose(ViewRender as any, typeof page === 'object' ? page : undefined, factory);\n  }\n\n  return factory;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/index.ts","/**\n * Wrapper\n * @author changming<changming.zy@alibaba-inc.com>\n */\nimport { Component, createElement as h } from 'react';\n\ninterface LoaderProps {\n  loader: () => Promise<any>;\n}\n\ninterface LoaderState {\n  Component: any;\n}\n\nfunction interopRequireDefault(obj: any) { return obj && obj.__esModule ? obj.default : obj; }\n\n// TODO: use React.lazy React.Suspense instead\nclass Loader extends Component<LoaderProps, LoaderState> {\n  static displayName = 'Loader';\n\n  state = {\n    Component: null,\n  };\n\n  componentDidMount() {\n    // TODO support more states\n    this.props.loader().then((Component: any) => {\n      this.setState({ Component: interopRequireDefault(Component) });\n    });\n  }\n\n  render() {\n    const { loader, ...props } = this.props;\n    const { Component } = this.state;\n    if (Component) {\n      return h(Component as any, props);\n    }\n    // TODO customer loading handler?\n    return h('div', { className: 'recore-loading' }, 'loading');\n  }\n}\n\nexport default Loader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/loader.ts","import { createElement as h, Component, ComponentType } from 'react';\nimport { RouteConfig } from './index';\nimport navigator from '../navigator';\n\nenum AuthStatus {\n  not = 'NOT',\n  pass = 'PASS',\n  fail = 'FAIL',\n}\n\ninterface RouteWrapperProps {\n  defined: RouteConfig;\n  Component: ComponentType<any>;\n  beforeRoute: (route: RouteConfig, match: any, history: any) => any;\n  match: any;\n}\n\ninterface RouteWrapperState {\n  authPassed: AuthStatus;\n  prevComponent: any;\n}\n\nfunction isRedirect(res: any) {\n  const t = typeof res;\n  return t === 'string' || t === 'number';\n}\n\n// TODO: use React.lazy React.Suspense instead\nclass RouteWrapper extends Component<RouteWrapperProps, RouteWrapperState> {\n  state = {\n    authPassed: AuthStatus.not,\n    prevComponent: null,\n  };\n\n  static getDerivedStateFromProps(nextProps: RouteWrapperProps, prevState: RouteWrapperState) {\n    if (nextProps.Component !== prevState.prevComponent) {\n      return {\n        authPassed: AuthStatus.not,\n        prevComponent: nextProps.Component,\n      };\n    }\n    return null;\n  }\n\n  componentDidUpdate() {\n    if (this.state.authPassed === AuthStatus.not) {\n      this.checkAuth();\n    }\n  }\n\n  componentDidMount() {\n    this.checkAuth();\n  }\n\n  checkAuth() {\n    const { beforeRoute, defined, match } = this.props;\n    const history = navigator.history!;\n    if (beforeRoute) {\n      const ret = beforeRoute(defined, match, history);\n      if (ret === true) {\n        this.setState({ authPassed: AuthStatus.pass });\n      } else if (ret === false) {\n        this.setState({ authPassed: AuthStatus.fail });\n      } else if (isRedirect(ret)) {\n        history.replace(String(ret));\n      } else if (ret && ret.then) {\n        ret.then((res: any) => {\n          if (isRedirect(res)) {\n            history.replace(String(ret));\n            return;\n          }\n          this.setState({ authPassed: AuthStatus.pass });\n        }, (res: any) => {\n          if (isRedirect(res)) {\n            history.replace(String(ret));\n            return;\n          }\n          this.setState({ authPassed: AuthStatus.fail });\n        });\n      }\n    } else {\n      this.setState({ authPassed: AuthStatus.pass });\n    }\n  }\n\n  render() {\n    const { Component, beforeRoute, ...others } = this.props;\n    if (this.state.authPassed === AuthStatus.pass) {\n      return h(Component, others as any);\n    } else if (this.state.authPassed === AuthStatus.fail) {\n      return h('div', null, 'You have no authority to view this page');\n    }\n\n    return h('div', { className: 'recore-loading' }, 'loading');\n  }\n}\n\nexport default RouteWrapper;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/route-wrapper.ts","import { Component, createElement } from 'react';\nimport navigator from '../navigator';\nimport { matchPath, MatchResult, locationIs } from './utils';\nimport RouteContext from './route-context';\nimport { RouteProps } from './route';\nimport { hasOwnProperty } from '../../utils';\n\nexport interface RouterProps {\n  routes: RouteProps[];\n  fixed: boolean;\n  [key: string]: any;\n}\n\nexport default class Router extends Component<RouterProps> {\n  private dispose: () => void;\n  private contextMap: { [path: string]: RouteContext } = {};\n  private location: any;\n\n  constructor(props: RouterProps) {\n    super(props);\n\n    const history = navigator.history!;\n    this.location = history.location;\n    this.dispose = history.listen(() => {\n      if (!locationIs(this.location, history.location)) {\n        this.forceUpdate();\n      }\n      this.location = history.location;\n    });\n  }\n\n  componentWillUnmount() {\n    this.dispose();\n  }\n\n  shouldComponentUpdate() {\n    // TODO compare rest allow \"rest\" props passthrough\n    if (this.props.fixed) {\n      return false;\n    }\n\n    return true;\n  }\n\n  getSubContext(path: string, match: MatchResult) {\n    if (!hasOwnProperty(this.contextMap, path)) {\n      this.contextMap[path] = new RouteContext(match);\n    } else {\n      this.contextMap[path].setMatch(match);\n    }\n\n    return this.contextMap[path];\n  }\n\n  render() {\n    const { routes, fixed, ...rest } = this.props;\n    const { location } = navigator.history!;\n    this.location = location;\n\n    return createElement(RouteContext.Consumer, null, (ctx: RouteContext) => {\n      let match;\n      let route: RouteProps;\n      for (let i = 0, l = routes.length; i < l; i++) {\n        route = routes[i];\n        match = matchPath(location.pathname, route, ctx.match);\n        if (match) {\n          break;\n        }\n      }\n      if (!match) {\n        return null;\n      }\n\n      return createElement(RouteContext.Provider, {\n        value: this.getSubContext(route!.path, match),\n      }, route!.children({ match, location, defined : route!.defined, ...rest }));\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/router.ts","import { createElement, Component } from 'react';\nimport RouteContext from './route-context';\nimport { MatchResult, locationIs } from './utils';\nimport navigator from '../navigator';\n\nexport default function withRouter(Custom: any) {\n  return class WithRouter extends Component<any> {\n    static displayName = `withRouter(${Custom.displayName || Custom.name})`;\n    static WrappedComponent = Custom;\n\n    private dispose: null | (() => void) = null;\n    private asRoutePage: boolean = false;\n    private location: any;\n\n    constructor(props: any) {\n      super(props);\n\n      if (props.match instanceof MatchResult && props.location) {\n        this.asRoutePage = true;\n      } else {\n        const history = navigator.history!;\n        this.location = history.location;\n        this.dispose = history.listen(() => {\n          if (!locationIs(this.location, history.location)) {\n            this.forceUpdate();\n          }\n          this.location = history.location;\n        });\n      }\n    }\n\n    componentWillUnmount() {\n      if (this.dispose) {\n        this.dispose();\n      }\n    }\n\n    render() {\n      const { wrappedComponentRef, ...originProps } = this.props;\n      return this.asRoutePage ? createElement(Custom, {\n        ...originProps,\n        ref: wrappedComponentRef\n      }) : createElement(RouteContext.Consumer, null, (ctx: RouteContext) => {\n        const { match, history, location } = ctx;\n        this.location = location;\n        return createElement(Custom, {\n          match,\n          location,\n          history,\n          ...originProps,\n          ref: wrappedComponentRef\n        });\n      });\n    }\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/router/with-router.ts","import { defineObxProperty } from '../obx/observable/obx-property';\nimport { ObxFlag } from '../obx/observable/obx';\n\nconst languageMap: { [key: string]: string } = {\n  en: 'en_US',\n\tzh: 'zh_CN',\n\tzt: 'zh_TW',\n\tes: 'es_ES',\n\tpt: 'pt_PT',\n\tfr: 'fr_FR',\n\tde: 'de_DE',\n\tit: 'it_IT',\n\tru: 'ru_RU',\n\tja: 'ja_JP',\n\tko: 'ko_KR',\n\tar: 'ar_SA',\n\ttr: 'tr_TR',\n\tth: 'th_TH',\n\tvi: 'vi_VN',\n\tnl: 'nl_NL',\n\the: 'iw_IL',\n\tid: 'in_ID',\n\tpl: 'pl_PL',\n\thi: 'hi_IN',\n\tuk: 'uk_UA',\n\tms: 'ms_MY',\n  tl: 'tl_PH',\n};\n\nconst i18nsData: { [key: string]: any } = {};\n\nlet globalLocale: string = '';\n\nexport function setGlobalLocale(locale: string) {\n  globalLocale = locale;\n}\n\nexport function getGlobalLocale(): string {\n  if (globalLocale) {\n    return globalLocale;\n  }\n\n  const { g_config, navigator } = global as any;\n  if (g_config) {\n    if (g_config.locale) {\n      globalLocale = languageMap[g_config.locale] || (g_config.locale as string);\n      return globalLocale;\n    }\n  }\n\n  if (navigator.language) {\n    globalLocale = (navigator.language as string).replace('-', '_');\n  }\n\n  // IE10browserLanguage\n  if (navigator.browserLanguage) {\n    const it = navigator.browserLanguage.split('-');\n    globalLocale = it[0];\n    if (it[1]) {\n      globalLocale += '_' + it[1].toUpperCase();\n    }\n  }\n\n  if (!globalLocale) {\n    globalLocale = 'zh_CN';\n  }\n\n  return globalLocale;\n}\n\ninterface CorpusQueryer {\n  (k: string): string;\n  locale: string;\n  setLocale(locale: string): void;\n}\n\nexport function createI18n(instKey: string, locale?: string): CorpusQueryer {\n  if (locale) {\n    setGlobalLocale(locale);\n  } else {\n    locale = getGlobalLocale();\n  }\n\n  defineObxProperty(i18nsData, instKey, {}, undefined, ObxFlag.REF);\n\n  const injectVars = (template: string, ...rest: any[]) => {\n    if (typeof template !== 'string') {\n      return '';\n    }\n    return template.replace(/({\\d+})/g, (match, $1) => {\n      const index = (/\\d+/.exec($1) || [])[0] as any;\n      if (index && rest[index] !== undefined) {\n        return rest[index];\n      }\n      return $1;\n    });\n  };\n\n  const i18n: any = (...args: any[]): string => {\n    const k = args[0];\n    const str =  i18nsData[instKey][k];\n    if (args.length <= 1) {\n      return str;\n    }\n    return injectVars(str, ...args.slice(1));\n  };\n\n  defineObxProperty(i18n, 'locale', locale, {\n    get() {\n      return locale;\n    },\n    set(val: string) {\n      locale = val;\n      useLocale(locale);\n    }\n  }, ObxFlag.REF);\n\n  function useLocale(locale: string) {\n    if ((global as any)[instKey]) {\n      i18nsData[instKey] = (global as any)[instKey][locale] || {};\n    } else {\n      const key = `${instKey}_${locale.replace('_', '-').toLocaleLowerCase()}`;\n      i18nsData[instKey] = (global as any)[key] || {};\n    }\n  }\n\n  useLocale(locale);\n\n  i18n.setLocale = (locale: string) => {\n    i18n.locale = locale;\n  };\n\n  return i18n;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/i18ns.ts","interface Mockable<T> {\n  mock?: T;\n}\n\nexport function mockable<T extends Function>(fn: T): T & Mockable<T> {\n  const f: any = (...input: any[]) => {\n    if (f.mock) {\n      return f.mock(...input);\n    }\n    return fn(...input);\n  };\n\n  return f;\n}\n\nexport const createApi = mockable;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/mockable.ts","import { Component, createElement as h, ReactNode } from 'react';\nimport { globals, reportError } from './utils';\nimport { observer } from '../obx';\nimport Area from '../core/area';\n\nexport interface XState {\n  error: any;\n}\n\nexport interface XProps {\n  area: Area;\n  children: (area: any) => any;\n}\n\nfunction renderError(error: any): any {\n  if (!error) {\n    return null;\n  }\n\n  reportError(error);\n\n  const msg = error.stack || error.message || error;\n  if (process.env.NODE_ENV !== 'production') {\n    return globals.renderError ? globals.renderError(error) : h('pre', { style: {\n      border: '1px solid #ffa39e',\n      backgroundColor: '#fff1f0',\n      padding: '8px 15px',\n    } }, `${msg}`);\n  }\n\n  return globals.renderError ? globals.renderError(error) : 'Render Error';\n}\n\nexport function DisplayError({ error }: { error: any }) {\n  return renderError(error);\n}\n\nexport function isDisplayError(obj: any): obj is ReactNode {\n return obj && obj.type === DisplayError;\n}\n\nexport default observer(class extends Component<XProps, XState> {\n  static displayName = 'X';\n\n  static getDerivedStateFromError(error: any) {\n    return { error };\n  }\n\n  state: XState  = { error: null };\n  private area: Area = this.props.area;\n\n  shouldComponentUpdate(nextProps: XProps, nextState: XState) {\n    if (nextProps.area !== this.area) {\n      this.area.purge();\n      this.area = nextProps.area;\n      return true;\n    }\n    return this.area.inExpression || nextState.error != null;\n  }\n\n  componentDidMount() {\n    this.area.connect(this);\n  }\n\n  componentDidUpdate() {\n    this.area.connect(this);\n  }\n\n  render() {\n    const { error } = this.state;\n    if (error) {\n      return renderError(error);\n    }\n\n    try {\n      return this.props.children(this.area);\n    } catch (e) {\n      return renderError(e);\n    }\n  }\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/x.ts","import classNames from 'classnames';\nimport { ReactType, ReactNode } from 'react';\nimport {\n  isPlainObject,\n  hasOwnProperty,\n  looseEqual,\n  looseIndexOf,\n  shallowEqual,\n} from '../utils';\nimport { cloneDeep } from '../utils/clone-deep';\nimport { shouldCompute, untracked } from '../obx/derivation';\nimport { $set } from '../obx/utils';\nimport { defineObxProperty } from '../obx/observable/obx-property';\nimport { ObxFlag, getObx } from '../obx/observable/obx';\nimport Area from './area';\n\nexport default class View {\n  private computedProps: { [key: string]: any } = {};\n  private xmodelAssign?: {\n    (v: any): void;\n    prop: string;\n  }\n\n  constructor(\n    area: Area,\n    id: string,\n    component: ReactType,\n    getProps?: (scope: object, area: Area) => any[],\n    getSlots?: (area: Area) => { [slot: string]: ReactNode }\n  ) {\n    const scope = area.scope;\n    scope._views[id] = this;\n\n    const refresh = () => {\n      const obx = getObx(this._props);\n      if (!obx || shouldCompute(obx)) {\n        area.runImmediately();\n      }\n    };\n\n    const listen = (prop: any) => {\n      return function f(this: any, ...args: any[]) {\n        const ret = prop.apply(this, args);\n        refresh();\n        return ret;\n      };\n    }\n\n    const processXmodel = (xmodel: [() => any, (v: any) => void], maps: any, events: any) => {\n      this.xmodelAssign = undefined;\n      if (!xmodel) {\n        return;\n      }\n\n      const [ getter, setter ] = xmodel;\n      if (!getter || !setter) {\n        return;\n      }\n      addToEvents(events, 'onChange', (data: any) => {\n        return assign(setter, getter, data);\n      });\n      const data = getter();\n      const useChecked = component === 'input'\n        ? (maps.type === 'radio' || maps.type === 'checkbox')\n        : (component as any).propTypes && (component as any).propTypes.checked;\n      if (useChecked) {\n        // FIXME: checked xmodelAssign\n        // this.xmodelAssign!.prop = 'checked';\n        if (component === 'input' && maps.type === 'checkbox') {\n          if (Array.isArray(data)) {\n            maps.checked = looseIndexOf(data, maps.value) > -1;\n          } else {\n            maps.checked = looseEqual(data, true);\n          }\n        } else {\n          maps.checked = looseEqual(maps.value, data);\n        }\n      } else {\n        this.xmodelAssign = setter as any;\n        this.xmodelAssign!.prop = 'value';\n        maps.value = data;\n      }\n    }\n\n    const processRef = (maps: any) => {\n      if (maps.ref) {\n        if (typeof maps.ref === 'string') {\n          const refKey = maps.ref;\n          maps.ref = (ref: any) => {\n            $set(scope, `$refs/${refKey}`, ref);\n          };\n        }\n        if (id) {\n          const originRef = maps.ref;\n          maps.ref = (ref: any) => {\n            if (ref && !ref.props) {\n              Object.defineProperty(ref, 'props', {\n                configurable: false,\n                enumerable: true,\n                get: () => this.props,\n              });\n            }\n            scope._views[id] = ref || this;\n            originRef(ref);\n          };\n        }\n      } else if (id) {\n        maps.ref = (ref: any) => {\n          if (ref && !ref.props) {\n            Object.defineProperty(ref, 'props', {\n              configurable: false,\n              enumerable: true,\n              get: () => this.props,\n            });\n          }\n          scope._views[id] = ref || this;\n        };\n      }\n    }\n\n    const processProps = (maps: any, propsArr: any[]) => {\n      const klass: any[] = [];\n      const events: EventsMap = {};\n      // [name, value]\n      // [null, value]  spread\n      for (let i = 0, l = propsArr.length; i < l; i++) {\n        const [name, data] = propsArr[i];\n\n        if (!name) {\n          for (let key in data) {\n            if (hasOwnProperty(data, key)) {\n              processData(key, data[key], klass, events, maps, listen);\n            }\n          }\n        } else {\n          processData(name, data, klass, events, maps, listen);\n        }\n      }\n      if (klass.length > 0) {\n        maps.className = classNames(klass);\n      }\n      processRef(maps);\n      if ('x-model' in maps) {\n        processXmodel(maps['x-model'], maps, events);\n        delete maps['x-model'];\n      }\n      mergeEvents(maps, events, listen);\n    };\n\n    defineObxProperty(\n      this,\n      'computedProps',\n      {},\n      {\n        get() {\n          const maps: any = {};\n          if (getProps) {\n            processProps(maps, getProps(scope, area));\n          }\n          if (getSlots) {\n            Object.assign(maps, getSlots(area));\n          }\n          return maps;\n        }\n      },\n      ObxFlag.REF\n    );\n    defineObxProperty(this, '_props', {}, {}, ObxFlag.VAL);\n    defineObxProperty(this, '_setted', {}, {}, ObxFlag.VAL);\n  }\n\n  private computedKeys?: string[];\n  private _props?: { [key: string]: any };\n  private _setted: { [key: string]: any } = {};\n  get props() {\n    const keys = Object.keys(this.computedProps);\n    if (this._props && shallowEqual(this.computedKeys, keys)) {\n      return this._props;\n    }\n\n    this.computedKeys = keys;\n    // TODO: when set a new key, recover from _props, may be mark as added\n    const props = {};\n\n    keys.forEach(key => {\n      Object.defineProperty(props, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          return this._setted[key] !== undefined\n            ? this._setted[key]\n            : this.computedProps[key];\n        },\n        set: val => {\n          if (this.xmodelAssign && this.xmodelAssign.prop === key) {\n            this.xmodelAssign(val);\n          } else {\n            this._setted[key] = val;\n          }\n        }\n      });\n    });\n    this._props = props;\n    return this._props;\n  }\n}\n\nfunction matchClassProperty(key: string): boolean | string {\n  if (key === 'class' || key === 'className') {\n    return true;\n  }\n  if (key.slice(0, 6) === 'class.') {\n    return key.slice(6);\n  }\n  if (key.slice(0, 10) === 'className.') {\n    return key.slice(10);\n  }\n  return false;\n}\n\nconst RE_EVENT = /^on[A-Z]/;\nfunction matchEventProperty(key: string) {\n  return RE_EVENT.test(key);\n}\n\nfunction combo(fns: Function[]) {\n  if (fns.length < 2) {\n    return fns[0];\n  }\n  return function(this: any, ...rest: any[]) {\n    for (let i = 0, l = fns.length; i < l; i++) {\n      fns[i].apply(this, rest);\n    }\n  };\n}\n\ninterface EventsMap {\n  [type: string]: Function[];\n}\n\nfunction mergeEvents(maps: any, events: EventsMap, listen: (v: any) => any) {\n  Object.keys(events).forEach(type => {\n    maps[type] = listen(combo(events[type]));\n  });\n}\n\nconst RE_SPLIT = /\\b\\./;\nfunction formatNestValue(nestPath: string[], val: any): any {\n  if (nestPath.length < 1) {\n    return val;\n  }\n\n  const key = nestPath.pop()!;\n  return formatNestValue(nestPath, key ? { [key]: val } : val);\n}\nfunction deepSet(origin: any, path: string[], val: any): any {\n  if (origin == null || !isPlainObject(origin)) {\n    return formatNestValue(path, val);\n  }\n\n  const key = path.shift();\n  if (!key) {\n    return val;\n  }\n\n  const cloned: any = { ...origin };\n  if (path.length > 0) {\n    cloned[key] = deepSet(cloned[key], path, val);\n  } else {\n    cloned[key] = val;\n  }\n\n  return cloned;\n}\n\nfunction addToEvents(events: EventsMap, key: string, fn: any) {\n  if (!hasOwnProperty(events, key)) {\n    events[key] = [fn];\n  } else {\n    events[key].push(fn);\n  }\n}\n\nfunction processData(\n  key: string,\n  value: any,\n  klass: any[],\n  events: EventsMap,\n  rest: { [k: string]: any },\n  listen: (v: any) => any\n) {\n  const m = matchClassProperty(key);\n  if (m) {\n    if (m === true) {\n      klass.push(value);\n    } else {\n      if (value) {\n        klass.push(m);\n      }\n    }\n    return;\n  }\n\n  if (key === 'style') {\n    rest[key] = cloneDeep(value);\n    return;\n  }\n\n  const isFn = typeof value === 'function';\n\n  if (matchEventProperty(key) && isFn) {\n    addToEvents(events, key, value);\n    return;\n  }\n\n  if (key.indexOf('.') > -1) {\n    const path = key.split(RE_SPLIT);\n    if (path.length > 1) {\n      key = path.shift()!;\n      rest[key] = deepSet(rest[key], path, value);\n      return;\n    }\n  }\n\n  rest[key] = isFn ? listen(value) : value;\n}\n\n\nfunction isNativeEvent(e: any) {\n  if (e && e.nativeEvent && e.target) {\n    return true;\n  }\n  return false;\n}\n\nfunction assign(setter: (v: any) => void, getter: () => any, data: any) {\n  if (!isNativeEvent(data)) {\n    setter(data);\n    return;\n  }\n\n  const target = data.target;\n  if (target.nodeName === 'INPUT') {\n    if (target.type === 'radio') {\n      if (target.checked) {\n        setter(target.value);\n      }\n    } else if (target.type === 'checkbox') {\n      const data = untracked(() => getter());\n      if (Array.isArray(data)) {\n        if (target.checked) {\n          data.push(target.value);\n        } else {\n          let l = data.length;\n          while (l-- >= 0) {\n            if (looseEqual(data[l], target.value)) {\n              data.splice(l, 1);\n            }\n          }\n        }\n        setter(data);\n      } else {\n        setter(target.checked);\n      }\n    } else {\n      setter(target.value);\n    }\n  } else if (target.nodeName === 'SELECT') {\n    const data = Array.prototype.filter.call(target.options, (o: any) => o.selected)\n      .map((o: any) => o.value);\n    setter(target.multiple ? data : data[0]);\n  } else {\n    setter(target.value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/core/view.ts","import { isPlainObject } from './is-plain-object';\n\nexport function cloneDeep(src: any): any {\n  const type = typeof src;\n\n  let data: any;\n  if (src === null || src === undefined) {\n    data = src;\n  } else if (Array.isArray(src)) {\n    data = src.map(item => cloneDeep(item));\n  } else if (type === 'object' && isPlainObject(src)) {\n    data = {};\n    for (const key in src) {\n      if (src.hasOwnProperty(key)) {\n        data[key] = cloneDeep(src[key]);\n      }\n    }\n  } else {\n    data = src;\n  }\n\n  return data;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/clone-deep.ts"],"sourceRoot":""}